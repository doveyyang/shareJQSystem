{"version":3,"sources":["webpack:///D:/Documents/HBuilderProjects/shareJQSystem/js_sdk/u-charts/components/u-charts/u-charts.js","webpack:///D:/Documents/HBuilderProjects/shareJQSystem/main.js","webpack:///D:/Documents/HBuilderProjects/shareJQSystem/pages/reportshow/reportshow.vue?c4c3","webpack:///D:/Documents/HBuilderProjects/shareJQSystem/pages/reportshow/reportshow.vue?b315","webpack:///D:/Documents/HBuilderProjects/shareJQSystem/pages/reportshow/reportshow.vue?4c56","webpack:///D:/Documents/HBuilderProjects/shareJQSystem/pages/reportshow/reportshow.vue?15f9","webpack:///D:/Documents/HBuilderProjects/shareJQSystem/pages/reportshow/reportshow.vue","webpack:///D:/Documents/HBuilderProjects/shareJQSystem/pages/reportshow/reportshow.vue?4726","webpack:///D:/Documents/HBuilderProjects/shareJQSystem/pages/reportshow/reportshow.vue?63af"],"names":["config","yAxisWidth","yAxisSplit","xAxisHeight","xAxisLineHeight","legendHeight","yAxisTitleWidth","padding","pixelRatio","rotate","columePadding","fontSize","dataPointShape","colors","pieChartLinePadding","pieChartTextPadding","xAxisTextPadding","titleColor","titleFontSize","subtitleColor","subtitleFontSize","toolTipPadding","toolTipBackground","toolTipOpacity","toolTipLineHeight","radarGridCount","radarLabelTextMargin","gaugeLabelTextMargin","assign","target","varArgs","TypeError","to","Object","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","call","util","toFixed","num","limit","isFloat","approximatelyEqual","num1","num2","Math","abs","isSameSign","isSameXCoordinateArea","p1","p2","x","isCollision","obj1","obj2","end","start","width","y","height","flag","hexToRgb","hexValue","opc","rgx","hex","replace","m","r","g","b","rgb","exec","parseInt","findRange","type","isNaN","Error","multiple","ceil","floor","calValidDistance","distance","chartData","opts","dataChartAreaWidth","xAxisPoints","dataChartWidth","eachSpacing","categories","validDistance","isInAngleRange","angle","startAngle","endAngle","adjust","PI","calRotateTranslate","h","xv","yv","transX","sqrt","transY","createCurveControlPoints","points","i","isNotMiddlePoint","max","min","a","pAx","pAy","pBx","pBy","last","ctrA","ctrB","convertCoordinateOrigin","center","avoidCollision","obj","fillSeriesColor","series","map","item","color","fillSeriesType","getDataRange","minData","maxData","range","minRange","maxRange","measureText","text","undefined","String","split","forEach","test","dataCombine","reduce","data","concat","dataCombineStack","sum","Array","j","getTouches","touches","e","clientX","pageY","mp","currentTarget","offsetTop","getSeriesDataItem","seriesItem","style","shape","disableLegend","name","format","push","getMaxTextListLength","list","lengthList","apply","getRadarCoordinateSeries","eachAngle","CoordinateSeries","getToolTipData","seriesData","calPoints","option","textList","validCalPoints","offset","round","getMixToolTipData","filter","getCandleToolTipData","extra","upColor","upFill","downColor","downFill","text0","text1","text2","text3","text4","findCurrentIndex","currentPoints","currentIndex","isInExactChartArea","findRadarChartCurrentIndex","radarData","count","eachAngleArea","isInExactPieChartArea","radius","fixAngle","atan2","angleList","rangeStart","rangeEnd","findPieChartCurrentIndex","pieData","len","_start_","_proportion_","pow","splitPoints","newPoints","items","calLegendData","legend","legendList","marginTop","shapeWidth","widthCount","currentRow","itemWidth","calCategoriesData","result","_getXAxisPoints","getXAxisPoints","categoriesTextLenth","maxTextLength","xAxis","rotateLabel","sin","getRadarDataPoints","process","radarOption","radar","each","listItem","tmp","proportion","position","cos","getPieDataPoints","getArcbarDataPoints","arcbarOption","totalAngle","getGaugeAxisPoints","tempStartAngle","value","_startAngle_","_endAngle_","getGaugeDataPoints","gaugeOption","pointer","_oldAngle_","oldAngle","oldData","getPieTextMaxLength","maxLength","fixColumeData","columnLen","column","fixColumeMeterData","border","fixColumeStackData","indexn","yAxisTotalWidth","spacingValid","dataCount","enableScroll","itemCount","startX","endX","getCandleDataPoints","validHeight","cPoints","indexs","point","getDataPoints","getStackDataPoints","seriesIndex","stackSeries","value0","height0","heightc","y0","getYAxisTextList","stack","sorted","constructor","subitem","yAxis","rangeSpan","dataRange","eachRange","reverse","calYAxisData","columnstyle","ranges","rangesFormat","Number","disabled","calTooltipYAxisData","maxVal","minVal","minAxis","maxAxis","contextRotate","context","rotateLock","translate","_rotate_","drawPointShape","beginPath","setStrokeStyle","setLineWidth","setFillStyle","moveTo","lineTo","arc","rect","closePath","fill","stroke","drawRingTitle","titlefontSize","title","subtitlefontSize","subtitle","titleFontColor","subtitleFontColor","titleHeight","subtitleHeight","margin","textWidth","offsetX","startY","offsetY","setFontSize","fillText","_textWidth","_startX","_startY","drawPointText","formatVal","drawGaugeLabel","centerPosition","splitAngle","splitLine","splitNumber","totalNumber","endNumber","startNumber","nowAngle","nowNumber","pos","labelColor","drawRadarLabel","posRelativeCanvas","drawPieText","lineRadius","textObjectCollection","lastTextObject","seriesConvert","orginX1","orginY1","orginX2","orginY2","orginX3","orginY3","textObject","lineStart","lineEnd","lineStartPoistion","lineEndPoistion","textPosition","curveStartX","textStartX","quadraticCurveTo","drawToolTipSplitLine","toolTipOption","tooltip","gridType","dashLength","endY","setLineDash","gridColor","xAxisLabel","lableText","textX","textY","labelBgColor","labelBgOpacity","labelFontColor","fontColor","drawToolTipHorizentalLine","yAxisLabel","drawToolTipSplitArea","activeBgColor","activeBgOpacity","drawToolTip","bgColor","bgOpacity","legendWidth","legendMarginRight","arrowWidth","isOverRightBorder","toolTipWidth","toolTipHeight","_scrollDistance_","fillRect","drawYAxisTitle","save","restore","drawColumnDataPoints","columnOption","meter","fillColor","_calYAxisData","pop","shift","eachSeries","tooltipPoints","dataLabel","drawCandleDataPoints","candleOption","candle","average","upLine","downLine","show","day","_calYAxisData5","_getXAxisPoints5","splitPointList","drawAreaDataPoints","areaOption","area","opacity","addLine","_calYAxisData2","_getXAxisPoints2","firstPoint","lastPoint","ctrlPoint","bezierCurveTo","drawLineDataPoints","lineOption","line","_calYAxisData3","_getXAxisPoints3","drawMixDataPoints","_calYAxisData6","_getXAxisPoints6","columnIndex","columnLength","setGlobalAlpha","drawToolTipBridge","horizentalLine","drawXAxis","_getXAxisPoints4","scrollShow","scrollY","scrollScreenWidth","scrollTotalWidth","scrollWidth","scrollLeft","setLineCap","scrollBackgroundColor","scrollColor","disableGrid","validWidth","maxXAxisListLength","ratio","_xAxisTextAngle_","_calRotateTranslate","drawYAxisGrid","xAxiseachSpacing","TotalWidth","drawYAxis","_calYAxisData4","background","drawLegend","_calLegendData","itemList","listIndex","legendTextColor","drawPieDataPoints","pieOption","pie","_pieTextMaxLength_","activeRadius","offsetAngle","activeOpacity","lineJoin","disablePieStroke","innerPieWidth","ringWidth","valid","drawArcbarDataPoints","arcbar","backgroundColor","drawGaugeDataPoints","gauge","innerRadius","eachCategories","fixRadius","childNumber","childWidth","childAngle","childendX","drawRadarDataPoints","coordinateAngle","_loop","startPos","radarDataPoints","drawCanvas","draw","Timing","easeIn","easeOut","easeInOut","linear","Animation","isStop","duration","timing","delay","createAnimationFrame","requestAnimationFrame","setTimeout","step","timeStamp","Date","animationFrame","startTimeStamp","_step","timestamp","onProcess","onAnimationFinish","timingFunction","bind","stop","drawCharts","_this","_calCategoriesData","animation","animationInstance","clearRect","_drawLineDataPoints","event","trigger","_drawMixDataPoints","_drawColumnDataPoints","_drawAreaDataPoints","arcbarData","gaugeData","_drawCandleDataPoints","Event","events","addEventListener","listener","_len","args","_key","params","slice","console","error","Charts","scrollAlign","config$$1","lableWidth","tempWidth","tempHeight","$this","uni","createCanvasContext","canvasId","scrollOption","currentOffset","startTouchX","offsetLeft","_getXAxisPoints0","totalWidth","screenWidth","updateData","zoom","val","log","stopAnimation","getCurrentDataIndex","changedTouches","_touches$","showToolTip","_getToolTipData","_getMixToolTipData","scrollStart","scroll","disableTouch","throttleTouch","lastMoveTime","currMoveTime","now","_distance","scrollEnd","_scrollOption","module","exports","Page","App","_self","canvaColumn","address","addressurl","addressinfo","cWidth","cHeight","serverData","serverList","id","components","sharebtn","onLoad","upx2px","getServerData","methods","request","url","service","BASEURL","method","success","res","fail","ServerList","nitem","project","Column","cho2","c6h6","tvoc","showColumn","uCharts"],"mappings":"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","file":"pages/reportshow/reportshow.js","sourcesContent":["/*\r\n * uCharts v1.7.0.7\r\n * uni-app平台高性能跨全端图表\r\n * 支持H5、APP、小程序（微信/支付宝/百度/头条）\r\n * Designed by QIUN秋云\r\n * \r\n * uCharts官方网站\r\n * https://www.uCharts.cn\r\n * \r\n * 开源地址:\r\n * https://github.com/16cheng/uCharts(停更)\r\n * 开源地址即将变更为：\r\n * https://gitee.com/qiuyunkeji/uCharts(尚未上传)\r\n * 开源协议变更为Apache-2.0\r\n * \r\n * uni-app插件市场地址：\r\n * http://ext.dcloud.net.cn/plugin?id=271\r\n * \r\n * \r\n */\r\n\r\n'use strict';\r\n\r\nvar config = {\r\n    yAxisWidth: 15,\r\n    yAxisSplit: 5,\r\n    xAxisHeight: 15,\r\n    xAxisLineHeight: 15,\r\n    legendHeight: 15,\r\n    yAxisTitleWidth: 15,\r\n    padding: 12,\r\n\tpixelRatio:1,//适配H5高分屏\r\n\trotate:false,//横屏模式\r\n    columePadding: 3,\r\n    fontSize: 13,\r\n    //dataPointShape: ['diamond', 'circle', 'triangle', 'rect'],\r\n\tdataPointShape: ['circle', 'circle', 'circle', 'circle'],//仿F2图例样式改为圆点\r\n    colors: ['#1890ff', '#2fc25b', '#facc14', '#f04864', '#8543e0', '#90ed7d'],\r\n    pieChartLinePadding: 15,\r\n    pieChartTextPadding: 5,\r\n    xAxisTextPadding: 3,\r\n    titleColor: '#333333',\r\n    titleFontSize: 20,\r\n    subtitleColor: '#999999',\r\n    subtitleFontSize: 15,\r\n    toolTipPadding: 3,\r\n    toolTipBackground: '#000000',\r\n    toolTipOpacity: 0.7,\r\n    toolTipLineHeight: 20,\r\n    radarGridCount: 3,\r\n    radarLabelTextMargin: 15,\r\n\tgaugeLabelTextMargin:15\r\n};\r\n\r\n// Object.assign polyfill\r\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\r\nfunction assign(target, varArgs) {\r\n    if (target == null) {\r\n        // TypeError if undefined or null\r\n        throw new TypeError('Cannot convert undefined or null to object');\r\n    }\r\n\r\n    var to = Object(target);\r\n\r\n    for (var index = 1; index < arguments.length; index++) {\r\n        var nextSource = arguments[index];\r\n\r\n        if (nextSource != null) {\r\n            // Skip over if undefined or null\r\n            for (var nextKey in nextSource) {\r\n                // Avoid bugs when hasOwnProperty is shadowed\r\n                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                    to[nextKey] = nextSource[nextKey];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return to;\r\n}\r\n\r\nvar util = {\r\n    toFixed: function toFixed(num, limit) {\r\n        limit = limit || 2;\r\n        if (this.isFloat(num)) {\r\n            num = num.toFixed(limit);\r\n        }\r\n        return num;\r\n    },\r\n    isFloat: function isFloat(num) {\r\n        return num % 1 !== 0;\r\n    },\r\n    approximatelyEqual: function approximatelyEqual(num1, num2) {\r\n        return Math.abs(num1 - num2) < 1e-10;\r\n    },\r\n    isSameSign: function isSameSign(num1, num2) {\r\n        return Math.abs(num1) === num1 && Math.abs(num2) === num2 || Math.abs(num1) !== num1 && Math.abs(num2) !== num2;\r\n    },\r\n    isSameXCoordinateArea: function isSameXCoordinateArea(p1, p2) {\r\n        return this.isSameSign(p1.x, p2.x);\r\n    },\r\n    isCollision: function isCollision(obj1, obj2) {\r\n        obj1.end = {};\r\n        obj1.end.x = obj1.start.x + obj1.width;\r\n        obj1.end.y = obj1.start.y - obj1.height;\r\n        obj2.end = {};\r\n        obj2.end.x = obj2.start.x + obj2.width;\r\n        obj2.end.y = obj2.start.y - obj2.height;\r\n        var flag = obj2.start.x > obj1.end.x || obj2.end.x < obj1.start.x || obj2.end.y > obj1.start.y || obj2.start.y < obj1.end.y;\r\n\r\n        return !flag;\r\n    }\r\n};\r\n\r\n// hex 转 rgba\r\nfunction hexToRgb(hexValue, opc) {\r\n    var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n    var hex = hexValue.replace(rgx, function (m, r, g, b) {\r\n        return r + r + g + g + b + b;\r\n    });\r\n    var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    var r = parseInt(rgb[1], 16);\r\n    var g = parseInt(rgb[2], 16);\r\n    var b = parseInt(rgb[3], 16);\r\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + opc + ')';\r\n}\r\n\r\nfunction findRange(num, type, limit) {\r\n    if (isNaN(num)) {\r\n        throw new Error('[wxCharts] unvalid series data!');\r\n    }\r\n    limit = limit || 10;\r\n    type = type ? type : 'upper';\r\n    var multiple = 1;\r\n    while (limit < 1) {\r\n        limit *= 10;\r\n        multiple *= 10;\r\n    }\r\n    if (type === 'upper') {\r\n        num = Math.ceil(num * multiple);\r\n    } else {\r\n        num = Math.floor(num * multiple);\r\n    }\r\n    while (num % limit !== 0) {\r\n        if (type === 'upper') {\r\n            num++;\r\n        } else {\r\n            num--;\r\n        }\r\n    }\r\n\r\n    return num / multiple;\r\n}\r\n\r\nfunction calValidDistance(distance, chartData, config, opts) {\r\n\r\n    var dataChartAreaWidth = opts.width - config.padding - chartData.xAxisPoints[0];\r\n    var dataChartWidth = chartData.eachSpacing * opts.categories.length;\r\n    var validDistance = distance;\r\n    if (distance >= 0) {\r\n        validDistance = 0;\r\n    } else if (Math.abs(distance) >= dataChartWidth - dataChartAreaWidth) {\r\n        validDistance = dataChartAreaWidth - dataChartWidth;\r\n    }\r\n    return validDistance;\r\n}\r\n\r\nfunction isInAngleRange(angle, startAngle, endAngle) {\r\n    function adjust(angle) {\r\n        while (angle < 0) {\r\n            angle += 2 * Math.PI;\r\n        }\r\n        while (angle > 2 * Math.PI) {\r\n            angle -= 2 * Math.PI;\r\n        }\r\n\r\n        return angle;\r\n    }\r\n\r\n    angle = adjust(angle);\r\n    startAngle = adjust(startAngle);\r\n    endAngle = adjust(endAngle);\r\n    if (startAngle > endAngle) {\r\n        endAngle += 2 * Math.PI;\r\n        if (angle < startAngle) {\r\n            angle += 2 * Math.PI;\r\n        }\r\n    }\r\n\r\n    return angle >= startAngle && angle <= endAngle;\r\n}\r\n\r\nfunction calRotateTranslate(x, y, h) {\r\n    var xv = x;\r\n    var yv = h - y;\r\n\r\n    var transX = xv + (h - yv - xv) / Math.sqrt(2);\r\n    transX *= -1;\r\n\r\n    var transY = (h - yv) * (Math.sqrt(2) - 1) - (h - yv - xv) / Math.sqrt(2);\r\n\r\n    return {\r\n        transX: transX,\r\n        transY: transY\r\n    };\r\n}\r\n\r\nfunction createCurveControlPoints(points, i) {\r\n\r\n    function isNotMiddlePoint(points, i) {\r\n        if (points[i - 1] && points[i + 1]) {\r\n            return points[i].y >= Math.max(points[i - 1].y, points[i + 1].y) || points[i].y <= Math.min(points[i - 1].y, points[i + 1].y);\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    var a = 0.2;\r\n    var b = 0.2;\r\n    var pAx = null;\r\n    var pAy = null;\r\n    var pBx = null;\r\n    var pBy = null;\r\n    if (i < 1) {\r\n        pAx = points[0].x + (points[1].x - points[0].x) * a;\r\n        pAy = points[0].y + (points[1].y - points[0].y) * a;\r\n    } else {\r\n        pAx = points[i].x + (points[i + 1].x - points[i - 1].x) * a;\r\n        pAy = points[i].y + (points[i + 1].y - points[i - 1].y) * a;\r\n    }\r\n\r\n    if (i > points.length - 3) {\r\n        var last = points.length - 1;\r\n        pBx = points[last].x - (points[last].x - points[last - 1].x) * b;\r\n        pBy = points[last].y - (points[last].y - points[last - 1].y) * b;\r\n    } else {\r\n        pBx = points[i + 1].x - (points[i + 2].x - points[i].x) * b;\r\n        pBy = points[i + 1].y - (points[i + 2].y - points[i].y) * b;\r\n    }\r\n\r\n    // fix issue https://github.com/xiaolin3303/wx-charts/issues/79\r\n    if (isNotMiddlePoint(points, i + 1)) {\r\n        pBy = points[i + 1].y;\r\n    }\r\n    if (isNotMiddlePoint(points, i)) {\r\n        pAy = points[i].y;\r\n    }\r\n\r\n    return {\r\n        ctrA: { x: pAx, y: pAy },\r\n        ctrB: { x: pBx, y: pBy }\r\n    };\r\n}\r\n\r\nfunction convertCoordinateOrigin(x, y, center) {\r\n    return {\r\n        x: center.x + x,\r\n        y: center.y - y\r\n    };\r\n}\r\n\r\nfunction avoidCollision(obj, target) {\r\n    if (target) {\r\n        // is collision test\r\n        while (util.isCollision(obj, target)) {\r\n            if (obj.start.x > 0) {\r\n                obj.start.y--;\r\n            } else if (obj.start.x < 0) {\r\n                obj.start.y++;\r\n            } else {\r\n                if (obj.start.y > 0) {\r\n                    obj.start.y++;\r\n                } else {\r\n                    obj.start.y--;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return obj;\r\n}\r\n\r\nfunction fillSeriesColor(series, config) {\r\n    var index = 0;\r\n    return series.map(function (item) {\r\n        if (!item.color) {\r\n            item.color = config.colors[index];\r\n            index = (index + 1) % config.colors.length;\r\n        }\r\n        return item;\r\n    });\r\n}\r\n\r\nfunction fillSeriesType(series, opts) {\r\n    return series.map(function (item) {\r\n        if (!item.type) {\r\n            item.type = opts.type;\r\n        }\r\n        return item;\r\n    });\r\n}\r\n\r\nfunction getDataRange(minData, maxData) {\r\n    var limit = 0;\r\n    var range = maxData - minData;\r\n    if (range >= 10000) {\r\n        limit = 1000;\r\n    } else if (range >= 1000) {\r\n        limit = 100;\r\n    } else if (range >= 100) {\r\n        limit = 10;\r\n    } else if (range >= 10) {\r\n        limit = 5;\r\n    } else if (range >= 1) {\r\n        limit = 1;\r\n    } else if (range >= 0.1) {\r\n        limit = 0.1;\r\n    } else {\r\n        limit = 0.01;\r\n    }\r\n    return {\r\n        minRange: findRange(minData, 'lower', limit),\r\n        maxRange: findRange(maxData, 'upper', limit)\r\n    };\r\n}\r\n\r\nfunction measureText(text) {\r\n    var fontSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : config.fontSize;\r\n\r\n    // wx canvas 未实现measureText方法, 此处自行实现\r\n\t// 适配修改初始字体10px为其他大小的方法\r\n    text = String(text);\r\n    var text = text.split('');\r\n    var width = 0;\r\n    text.forEach(function (item) {\r\n        if (/[a-zA-Z]/.test(item)) {\r\n            width += 7;\r\n        } else if (/[0-9]/.test(item)) {\r\n            width += 5.5;\r\n        } else if (/\\./.test(item)) {\r\n            width += 2.7;\r\n        } else if (/-/.test(item)) {\r\n            width += 3.25;\r\n        } else if (/[\\u4e00-\\u9fa5]/.test(item)) {\r\n            width += 10;\r\n        } else if (/\\(|\\)/.test(item)) {\r\n            width += 3.73;\r\n        } else if (/\\s/.test(item)) {\r\n            width += 2.5;\r\n        } else if (/%/.test(item)) {\r\n            width += 8;\r\n        } else {\r\n            width += 10;\r\n        }\r\n    });\r\n    return width * fontSize / 10 ;\r\n}\r\n\r\nfunction dataCombine(series) {\r\n    return series.reduce(function (a, b) {\r\n        return (a.data ? a.data : a).concat(b.data);\r\n    }, []);\r\n}\r\n\r\nfunction dataCombineStack(series) {\r\n\tvar sum = new Array(series[0].data.length);\r\n\tfor(var j = 0; j < sum.length; j++) {\r\n\t\t\tsum[j] =0;\r\n\t}\r\n\tfor(var i = 0; i < series.length; i++) {\r\n\t  for(var j = 0; j < sum.length; j++) {\r\n\t\tsum[j] += series[i].data[j];\r\n\t  }\r\n\t}\r\n\treturn series.reduce(function (a, b) {\r\n\t    return (a.data ? a.data : a).concat(b.data).concat(sum);\r\n\t}, []);\r\n}\r\n\r\nfunction getTouches(touches, opts, e){\r\n\tlet x,y;\r\n\tif(touches.clientX){\r\n\t\tif(opts.rotate){//适配横屏\r\n\t\t\ty = opts.height-touches.clientX*opts.pixelRatio;\r\n\t\t\tx = (touches.pageY-e.mp.currentTarget.offsetTop-(opts.height/opts.pixelRatio/2)*(opts.pixelRatio-1))*opts.pixelRatio;\r\n\t\t}else{\r\n\t\t\tx = touches.clientX*opts.pixelRatio;\r\n\t\t\ty = (touches.pageY-e.mp.currentTarget.offsetTop-(opts.height/opts.pixelRatio/2)*(opts.pixelRatio-1))*opts.pixelRatio;\r\n\t\t}\r\n\t}else{\r\n\t\tif(opts.rotate){//适配横屏\r\n\t\t\ty = opts.height-touches.x*opts.pixelRatio;\r\n\t\t\tx = touches.y*opts.pixelRatio;\r\n\t\t}else{\r\n\t\t\tx = touches.x*opts.pixelRatio;\r\n\t\t\ty = touches.y*opts.pixelRatio;\r\n\t\t}\r\n\t}\r\n\treturn{x:x,y:y}\r\n}\r\n\r\nfunction getSeriesDataItem(series, index) {\r\n    var data = [];\r\n    series.forEach(function (item) {\r\n        if (item.data[index] !== null && typeof item.data[index] !== 'undefined') {\r\n            var seriesItem = {};\r\n            seriesItem.color = item.color;\r\n\t\t\tseriesItem.type = item.type;\r\n\t\t\tseriesItem.style = item.style;\r\n\t\t\tseriesItem.shape = item.shape;\r\n\t\t\tseriesItem.disableLegend = item.disableLegend;\r\n            seriesItem.name = item.name;\r\n            seriesItem.data = item.format ? item.format(item.data[index]) : item.data[index];\r\n            data.push(seriesItem);\r\n        }\r\n    });\r\n\r\n    return data;\r\n}\r\n\r\nfunction getMaxTextListLength(list) {\r\n    var lengthList = list.map(function (item) {\r\n        return measureText(item);\r\n    });\r\n    return Math.max.apply(null, lengthList);\r\n}\r\n\r\nfunction getRadarCoordinateSeries(length) {\r\n    var eachAngle = 2 * Math.PI / length;\r\n    var CoordinateSeries = [];\r\n    for (var i = 0; i < length; i++) {\r\n        CoordinateSeries.push(eachAngle * i);\r\n    }\r\n\r\n    return CoordinateSeries.map(function (item) {\r\n        return -1 * item + Math.PI / 2;\r\n    });\r\n}\r\n\r\nfunction getToolTipData(seriesData, calPoints, index, categories) {\r\n    var option = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\r\n\r\n    var textList = seriesData.map(function (item) {\r\n        return {\r\n            text: option.format ? option.format(item, categories[index]) : item.name + ': ' + item.data,\r\n            color: item.color\r\n        };\r\n    });\r\n    var validCalPoints = [];\r\n    var offset = {\r\n        x: 0,\r\n        y: 0\r\n    };\r\n    calPoints.forEach(function (points) {\r\n        if (typeof points[index] !== 'undefined' && points[index] !== null) {\r\n            validCalPoints.push(points[index]);\r\n        }\r\n    });\r\n    validCalPoints.forEach(function (item) {\r\n        offset.x = Math.round(item.x);\r\n        offset.y += item.y;\r\n    });\r\n\r\n    offset.y /= validCalPoints.length;\r\n    return { textList: textList, offset: offset };\r\n}\r\n\r\nfunction getMixToolTipData(seriesData, calPoints, index, categories) {\r\n    var option = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\r\n    var textList = seriesData.map(function (item) {\r\n\t\treturn {\r\n\t\t\ttext: option.format ? option.format(item, categories[index]) : item.name + ': ' + item.data,\r\n\t\t\tcolor: item.color,\r\n\t\t\tdisableLegend: item.disableLegend? true:false\r\n\t\t};\r\n    });\r\n\ttextList=textList.filter(function (item) {\r\n\t\tif(item.disableLegend!==true){\r\n\t\t\treturn item;\r\n\t\t}\r\n\t});\r\n    var validCalPoints = [];\r\n    var offset = {\r\n        x: 0,\r\n        y: 0\r\n    };\r\n    calPoints.forEach(function (points) {\r\n        if (typeof points[index] !== 'undefined' && points[index] !== null) {\r\n            validCalPoints.push(points[index]);\r\n        }\r\n    });\r\n    validCalPoints.forEach(function (item) {\r\n        offset.x = Math.round(item.x);\r\n        offset.y += item.y;\r\n    });\r\n\r\n    offset.y /= validCalPoints.length;\r\n    return { textList: textList, offset: offset };\r\n}\r\n\r\nfunction getCandleToolTipData(series,seriesData, calPoints, index, categories,extra) {\r\n    var option = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : {};\r\n\tlet upColor = extra.color.upFill;\r\n\tlet downColor = extra.color.downFill;\r\n\t//颜色顺序为开盘，收盘，最低，最高\r\n\tlet color=[upColor,upColor,downColor,upColor];\r\n    var textList = [];\r\n\tlet text0={\r\n\t\ttext: categories[index],\r\n\t\tcolor: null\r\n\t};\r\n\ttextList.push(text0);\r\n\tseriesData.map(function (item) {\r\n\t\t//console.log(color)\r\n\t\tif(index==0 && item.data[1]-item.data[0]<0){\r\n\t\t\tcolor[1]=downColor;\r\n\t\t}else{\r\n\t\t\tif(item.data[0]<series[index-1][1]){\r\n\t\t\t\tcolor[0]=downColor;\r\n\t\t\t}\r\n\t\t\tif(item.data[1]<item.data[0]){\r\n\t\t\t\tcolor[1]=downColor;\r\n\t\t\t}\r\n\t\t\tif(item.data[2]>series[index-1][1]){\r\n\t\t\t\tcolor[2]=upColor;\r\n\t\t\t}\r\n\t\t\tif(item.data[3]<series[index-1][1]){\r\n\t\t\t\tcolor[3]=downColor;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tlet text1={\r\n\t\t\ttext: '开盘：'+item.data[0],\r\n\t\t\tcolor: color[0]\r\n\t\t};\r\n\t\tlet text2={\r\n\t\t\ttext: '收盘：'+item.data[1],\r\n\t\t\tcolor: color[1]\r\n\t\t};\r\n\t\tlet text3={\r\n\t\t\ttext: '最低：'+item.data[2],\r\n\t\t\tcolor: color[2]\r\n\t\t};\r\n\t\tlet text4={\r\n\t\t\ttext: '最高：'+item.data[3],\r\n\t\t\tcolor: color[3]\r\n\t\t};\r\n\t\ttextList.push(text1,text2,text3,text4);\r\n    });\r\n    var validCalPoints = [];\r\n    var offset = {\r\n        x: 0,\r\n        y: 0\r\n    };\r\n    calPoints.forEach(function (points) {\r\n        if (typeof points[index] !== 'undefined' && points[index] !== null) {\r\n            validCalPoints.push(points[index]);\r\n        }\r\n    });\r\n\toffset.x=Math.round(validCalPoints[0][0].x);\r\n    return { textList: textList, offset: offset };\r\n}\r\n\r\nfunction findCurrentIndex(currentPoints, xAxisPoints, opts, config) {\r\n    var offset = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\r\n    var currentIndex = -1;\r\n    if (isInExactChartArea(currentPoints, opts, config)) {\r\n        xAxisPoints.forEach(function (item, index) {\r\n            if (currentPoints.x + offset > item) {\r\n                currentIndex = index;\r\n            }\r\n        });\r\n    }\r\n\r\n    return currentIndex;\r\n}\r\n\r\nfunction isInExactChartArea(currentPoints, opts, config) {\r\n    return currentPoints.x < opts.width - config.padding && currentPoints.x > config.padding + config.yAxisWidth + config.yAxisTitleWidth && currentPoints.y > config.padding && currentPoints.y < opts.height - config.legendHeight - config.xAxisHeight - config.padding;\r\n}\r\n\r\nfunction findRadarChartCurrentIndex(currentPoints, radarData, count) {\r\n    var eachAngleArea = 2 * Math.PI / count;\r\n    var currentIndex = -1;\r\n    if (isInExactPieChartArea(currentPoints, radarData.center, radarData.radius)) {\r\n        var fixAngle = function fixAngle(angle) {\r\n            if (angle < 0) {\r\n                angle += 2 * Math.PI;\r\n            }\r\n            if (angle > 2 * Math.PI) {\r\n                angle -= 2 * Math.PI;\r\n            }\r\n            return angle;\r\n        };\r\n\r\n        var angle = Math.atan2(radarData.center.y - currentPoints.y, currentPoints.x - radarData.center.x);\r\n        angle = -1 * angle;\r\n        if (angle < 0) {\r\n            angle += 2 * Math.PI;\r\n        }\r\n\r\n        var angleList = radarData.angleList.map(function (item) {\r\n            item = fixAngle(-1 * item);\r\n\r\n            return item;\r\n        });\r\n\r\n        angleList.forEach(function (item, index) {\r\n            var rangeStart = fixAngle(item - eachAngleArea / 2);\r\n            var rangeEnd = fixAngle(item + eachAngleArea / 2);\r\n            if (rangeEnd < rangeStart) {\r\n                rangeEnd += 2 * Math.PI;\r\n            }\r\n            if (angle >= rangeStart && angle <= rangeEnd || angle + 2 * Math.PI >= rangeStart && angle + 2 * Math.PI <= rangeEnd) {\r\n                currentIndex = index;\r\n            }\r\n        });\r\n    }\r\n\r\n    return currentIndex;\r\n}\r\n\r\nfunction findPieChartCurrentIndex(currentPoints, pieData) {\r\n    var currentIndex = -1;\r\n    if (isInExactPieChartArea(currentPoints, pieData.center, pieData.radius)) {\r\n        var angle = Math.atan2(pieData.center.y - currentPoints.y, currentPoints.x - pieData.center.x);\r\n        angle = -angle;\r\n        for (var i = 0, len = pieData.series.length; i < len; i++) {\r\n            var item = pieData.series[i];\r\n            if (isInAngleRange(angle, item._start_, item._start_ + item._proportion_ * 2 * Math.PI)) {\r\n                currentIndex = i;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    return currentIndex;\r\n}\r\n\r\nfunction isInExactPieChartArea(currentPoints, center, radius) {\r\n    return Math.pow(currentPoints.x - center.x, 2) + Math.pow(currentPoints.y - center.y, 2) <= Math.pow(radius, 2);\r\n}\r\n\r\nfunction splitPoints(points) {\r\n    var newPoints = [];\r\n    var items = [];\r\n    points.forEach(function (item, index) {\r\n        if (item !== null) {\r\n            items.push(item);\r\n        } else {\r\n            if (items.length) {\r\n                newPoints.push(items);\r\n            }\r\n            items = [];\r\n        }\r\n    });\r\n    if (items.length) {\r\n        newPoints.push(items);\r\n    }\r\n\r\n    return newPoints;\r\n}\r\n\r\nfunction calLegendData(series, opts, config) {\r\n    if (opts.legend === false) {\r\n        return {\r\n            legendList: [],\r\n            legendHeight: 0\r\n        };\r\n    }\r\n\t//适配H5高分屏\r\n    var padding = 5*opts.pixelRatio;\r\n    var marginTop = 8*opts.pixelRatio;\r\n    var shapeWidth = 15*opts.pixelRatio;\r\n    var legendList = [];\r\n    var widthCount = 0;\r\n    var currentRow = [];\r\n    series.forEach(function (item) {\r\n        var itemWidth = 3 * padding + shapeWidth + measureText(item.name || 'undefined');\r\n        if (widthCount + itemWidth > opts.width) {\r\n            legendList.push(currentRow);\r\n            widthCount = itemWidth;\r\n            currentRow = [item];\r\n        } else {\r\n            widthCount += itemWidth;\r\n            currentRow.push(item);\r\n        }\r\n    });\r\n    if (currentRow.length) {\r\n        legendList.push(currentRow);\r\n    }\r\n\r\n    return {\r\n        legendList: legendList,\r\n        legendHeight: legendList.length * (config.fontSize + marginTop) + padding\r\n    };\r\n}\r\n\r\nfunction calCategoriesData(categories, opts, config) {\r\n    var result = {\r\n        angle: 0,\r\n        xAxisHeight: config.xAxisHeight\r\n    };\r\n\r\n    var _getXAxisPoints = getXAxisPoints(categories, opts, config),\r\n        eachSpacing = _getXAxisPoints.eachSpacing;\r\n\r\n    // get max length of categories text\r\n\r\n\r\n    var categoriesTextLenth = categories.map(function (item) {\r\n        return measureText(item);\r\n    });\r\n\t\r\n    var maxTextLength = Math.max.apply(this, categoriesTextLenth);\r\n\r\n    if (opts.xAxis.rotateLabel==true && maxTextLength + 2 * config.xAxisTextPadding > eachSpacing) {\r\n        result.angle = 45 * Math.PI / 180;\r\n        result.xAxisHeight = 2 * config.xAxisTextPadding + maxTextLength * Math.sin(result.angle);\r\n    }\r\n\t\r\n    return result;\r\n}\r\n\r\nfunction getRadarDataPoints(angleList, center, radius, series, opts) {\r\n    var process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n\r\n    var radarOption = opts.extra.radar || {};\r\n    radarOption.max = radarOption.max || 0;\r\n    var maxData = Math.max(radarOption.max, Math.max.apply(null, dataCombine(series)));\r\n\r\n    var data = [];\r\n    series.forEach(function (each) {\r\n        var listItem = {};\r\n        listItem.color = each.color;\r\n        listItem.data = [];\r\n        each.data.forEach(function (item, index) {\r\n            var tmp = {};\r\n            tmp.angle = angleList[index];\r\n\r\n            tmp.proportion = item / maxData;\r\n            tmp.position = convertCoordinateOrigin(radius * tmp.proportion * process * Math.cos(tmp.angle), radius * tmp.proportion * process * Math.sin(tmp.angle), center);\r\n            listItem.data.push(tmp);\r\n        });\r\n\r\n        data.push(listItem);\r\n    });\r\n\r\n    return data;\r\n}\r\n\r\nfunction getPieDataPoints(series) {\r\n    var process = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\r\n\r\n    var count = 0;\r\n    var _start_ = 0;\r\n    series.forEach(function (item) {\r\n        item.data = item.data === null ? 0 : item.data;\r\n        count += item.data;\r\n    });\r\n    series.forEach(function (item) {\r\n        item.data = item.data === null ? 0 : item.data;\r\n\t\tif(count === 0){\r\n\t\t\titem._proportion_ = 1 / series.length;\r\n\t\t}else{\r\n\t\t\titem._proportion_ = item.data / count * process;\r\n\t\t}\r\n    });\r\n    series.forEach(function (item) {\r\n        item._start_ = _start_;\r\n        _start_ += 2 * item._proportion_ * Math.PI;\r\n    });\r\n\r\n    return series;\r\n}\r\n\r\nfunction getArcbarDataPoints(series,arcbarOption) {\r\n    var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\r\n\tif(process==1){\r\n\t\tprocess=0.999999;\r\n\t}\r\n    series.forEach(function (item) {\r\n        item.data = item.data === null ? 0 : item.data;\r\n\t\tlet totalAngle;\r\n\t\tif(arcbarOption.type=='default'){\r\n\t\t\ttotalAngle=arcbarOption.startAngle-arcbarOption.endAngle+1;\r\n\t\t}else{\r\n\t\t\ttotalAngle=2;\r\n\t\t}\r\n\t\titem._proportion_ = totalAngle * item.data* process + arcbarOption.startAngle;\r\n\t\tif (item._proportion_ >= 2) {\r\n\t\t\titem._proportion_ = item._proportion_ % 2;\r\n\t\t}\r\n    });\r\n    return series;\r\n}\r\n\r\nfunction getGaugeAxisPoints(categories,startAngle,endAngle) {\r\n\tlet totalAngle=startAngle-endAngle+1;\r\n\tlet tempStartAngle=startAngle;\r\n\tfor(let i=0 ; i<categories.length; i++){\r\n\t\tcategories[i].value = categories[i].value === null ? 0 : categories[i].value;\r\n\t\tcategories[i]._startAngle_=tempStartAngle;\r\n\t\tcategories[i]._endAngle_=totalAngle* categories[i].value + startAngle;\r\n\t\tif (categories[i]._endAngle_ >= 2) {\r\n\t\t\tcategories[i]._endAngle_ = categories[i]._endAngle_ % 2;\r\n\t\t}\r\n\t\ttempStartAngle=categories[i]._endAngle_;\r\n\t}\r\n\treturn categories;\r\n}\r\n\r\nfunction getGaugeDataPoints(series,categories,gaugeOption) {\r\n    var process = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\r\n    series.forEach(function (item) {\r\n        item.data = item.data === null ? 0 : item.data;\r\n\t\tif(gaugeOption.pointer.color=='auto'){\r\n\t\t\tfor(let i=0 ;i<categories.length;i++){\r\n\t\t\t\tif(item.data<=categories[i].value){\r\n\t\t\t\t\titem.color=categories[i].color;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\titem.color=gaugeOption.pointer.color;\r\n\t\t}\r\n\t\tlet totalAngle=gaugeOption.startAngle-gaugeOption.endAngle+1;\r\n\t\titem._endAngle_=totalAngle * item.data + gaugeOption.startAngle;\r\n\t\titem._oldAngle_=gaugeOption.oldAngle;\r\n\t\tif(gaugeOption.oldAngle<gaugeOption.endAngle){\r\n\t\t\titem._oldAngle_+=2;\r\n\t\t}\r\n\t\tif(item.data>=gaugeOption.oldData){\r\n\t\t\titem._proportion_ = (item._endAngle_-item._oldAngle_)* process+gaugeOption.oldAngle;\r\n\t\t}else{\r\n\t\t\titem._proportion_ =item._oldAngle_- (item._oldAngle_-item._endAngle_)* process;\r\n\t\t}\r\n\t\tif (item._proportion_ >= 2) {\r\n\t\t\titem._proportion_ = item._proportion_ % 2;\r\n\t\t}\r\n    });\r\n    return series;\r\n}\r\n\r\n\r\nfunction getPieTextMaxLength(series) {\r\n    series = getPieDataPoints(series);\r\n    var maxLength = 0;\r\n    series.forEach(function (item) {\r\n        var text = item.format ? item.format(+item._proportion_.toFixed(2)) : util.toFixed(item._proportion_ * 100) + '%';\r\n        maxLength = Math.max(maxLength, measureText(text));\r\n    });\r\n\r\n    return maxLength;\r\n}\r\n\r\nfunction fixColumeData(points, eachSpacing, columnLen, index, config, opts) {\r\n    return points.map(function (item) {\r\n        if (item === null) {\r\n            return null;\r\n        }\r\n        item.width = (eachSpacing - 2 * config.columePadding) / columnLen;\r\n\r\n        if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n            // customer column width\r\n            item.width = Math.min(item.width, +opts.extra.column.width);\r\n        } else {\r\n            // default width should less tran 25px\r\n            // don't ask me why, I don't know\r\n            item.width = Math.min(item.width, 25);\r\n        }\r\n        item.x += (index + 0.5 - columnLen / 2) * item.width;\r\n\r\n        return item;\r\n    });\r\n}\r\n\r\nfunction fixColumeMeterData(points, eachSpacing, columnLen, index, config, opts, border) {\r\n    return points.map(function (item) {\r\n        if (item === null) {\r\n            return null;\r\n        }\r\n        item.width = eachSpacing - 2 * config.columePadding;\r\n\r\n        if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n            item.width = Math.min(item.width, +opts.extra.column.width);\r\n        } else {\r\n            item.width = Math.min(item.width, 25);\r\n        }\r\n\t\tif(index>0){\r\n\t\t\titem.width -= 2*border;\r\n\t\t}\r\n        return item;\r\n    });\r\n}\r\n\r\nfunction fixColumeStackData(points, eachSpacing, columnLen, index, config, opts,series) {\r\n\t\r\n    return points.map(function (item,indexn) {\r\n\t\t\r\n        if (item === null) {\r\n            return null;\r\n        }\r\n        item.width = eachSpacing - 2 * config.columePadding;\r\n\r\n        if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n            item.width = Math.min(item.width, +opts.extra.column.width);\r\n        } else {\r\n            item.width = Math.min(item.width, 25);\r\n        }\r\n        return item;\r\n    });\r\n}\r\n\r\nfunction getXAxisPoints(categories, opts, config) {\r\n    var yAxisTotalWidth = config.yAxisWidth + config.yAxisTitleWidth;\r\n    var spacingValid = opts.width - 2 * config.padding - yAxisTotalWidth;\r\n    var dataCount = opts.enableScroll ? Math.min(opts.xAxis.itemCount, categories.length) : categories.length;\r\n    var eachSpacing = spacingValid / dataCount;\r\n\r\n    var xAxisPoints = [];\r\n    var startX = config.padding + yAxisTotalWidth;\r\n    var endX = opts.width - config.padding;\r\n    categories.forEach(function (item, index) {\r\n        xAxisPoints.push(startX + index * eachSpacing);\r\n    });\r\n    if (opts.enableScroll === true) {\r\n        xAxisPoints.push(startX + categories.length * eachSpacing);\r\n    } else {\r\n        xAxisPoints.push(endX);\r\n    }\r\n\r\n    return { xAxisPoints: xAxisPoints, startX: startX, endX: endX, eachSpacing: eachSpacing };\r\n}\r\n\r\nfunction getCandleDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config) {\r\n    var process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\r\n\r\n    var points = [];\r\n    var validHeight = opts.height - 2 * config.padding - config.xAxisHeight - config.legendHeight;\r\n    data.forEach(function (item, index) {\r\n        if (item === null) {\r\n            points.push(null);\r\n        } else {\r\n\t\t\tvar cPoints = [];\r\n\t\t\titem.forEach(function (items, indexs) {\r\n\t\t\t\t var point = {};\r\n\t\t\t\t point.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\r\n\t\t\t\t var value = items.value || items;\r\n\t\t\t\t var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n\t\t\t\t height *= process;\r\n\t\t\t\t point.y = opts.height - config.xAxisHeight - config.legendHeight - Math.round(height) - config.padding;\r\n\t\t\t\t cPoints.push(point);\r\n\t\t\t});\r\n            points.push(cPoints);\r\n        }\r\n    });\r\n\r\n    return points;\r\n}\r\n\r\nfunction getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config) {\r\n    var process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\r\n\r\n    var points = [];\r\n    var validHeight = opts.height - 2 * config.padding - config.xAxisHeight - config.legendHeight;\r\n    data.forEach(function (item, index) {\r\n        if (item === null) {\r\n            points.push(null);\r\n        } else {\r\n            var point = {};\r\n\t\t\tpoint.color = item.color;\r\n            point.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\r\n\t\t\tvar value = item;\r\n\t\t\tif(typeof item === 'object' && item !== null) {\r\n\t\t\t\tvalue = item.value\r\n\t\t\t}\r\n            var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n            height *= process;\r\n            point.y = opts.height - config.xAxisHeight - config.legendHeight - Math.round(height) - config.padding;\r\n            points.push(point);\r\n        }\r\n    });\r\n\r\n    return points;\r\n}\r\n\r\nfunction getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config,seriesIndex, stackSeries) {\r\n    var process = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : 1;\r\n    var points = [];\r\n    var validHeight = opts.height - 2 * config.padding - config.xAxisHeight - config.legendHeight;\r\n\t\r\n    data.forEach(function (item, index) {\r\n        if (item === null) {\r\n            points.push(null);\r\n        } else {\r\n            var point = {};\r\n\t\t\tpoint.color = item.color;\r\n            point.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\r\n\t\t\t\r\n\t\t\tif(seriesIndex>0){\r\n\t\t\t\tvar value=0;\r\n\t\t\t\tfor(let i=0;i<=seriesIndex;i++){\r\n\t\t\t\t\tvalue+=stackSeries[i].data[index];\r\n\t\t\t\t}\r\n\t\t\t\tvar value0 = value-item;\r\n\t\t\t\tvar height = validHeight * (value - minRange) / (maxRange - minRange);\r\n\t\t\t\tvar height0 = validHeight * (value0 - minRange) / (maxRange - minRange);\r\n\t\t\t}else{\r\n\t\t\t\tvar value = item;\r\n\t\t\t\tvar height = validHeight * (value - minRange) / (maxRange - minRange);\r\n\t\t\t\tvar height0 = 0;\r\n\t\t\t}\r\n\t\t\tvar heightc=height0;\r\n            height *= process;\r\n\t\t\theightc *= process;\r\n\t\t\tpoint.y = opts.height - config.xAxisHeight - config.legendHeight - Math.round(height) - config.padding;\r\n\t\t\tpoint.y0 = opts.height - config.xAxisHeight - config.legendHeight - Math.round(heightc) - config.padding;\r\n            points.push(point);\r\n        }\r\n    });\r\n\r\n    return points;\r\n}\r\n\r\nfunction getYAxisTextList(series, opts, config ,stack) {\r\n\tvar data;\r\n\tif(stack=='stack'){\r\n\t\t//data = dataCombine(series);\r\n\t\tdata = dataCombineStack(series);\r\n\t}else{\r\n\t\tdata = dataCombine(series);\r\n\t}\r\n\t\r\n\tvar sorted = [];\r\n    // remove null from data\r\n    data = data.filter(function (item) {\r\n        //return item !== null;\r\n\t\tif(typeof item === 'object' && item !== null) {\r\n\t\t\t//判断是否为数组\r\n\t\t\tif(item.constructor == Array){\r\n\t\t\t\treturn item !== null;\r\n\t\t\t}else{\r\n\t\t\t\treturn item.value !== null;\r\n\t\t\t}\r\n        } else {\r\n            return item !== null;\r\n        }\r\n    });\r\n    //var minData = Math.min.apply(this, data);\r\n    //var maxData = Math.max.apply(this, data);\r\n\tdata.map((item)=>{\r\n\t\tif(typeof item === 'object') {\r\n\t\t\tif(item.constructor == Array){\r\n\t\t\t\titem.map((subitem)=>{\r\n\t\t\t\t\tsorted.push(subitem);\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tsorted.push(item.value);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t    sorted.push(item);\r\n\t\t}\r\n        //typeof item === 'object' ? sorted.push(item.value) : sorted.push(item)\r\n    })\r\n\tvar minData = 0;\r\n\tvar maxData = 0;\r\n\tif(sorted.length>0){\r\n\t\tminData = Math.min.apply(this, sorted);\r\n\t\tmaxData = Math.max.apply(this, sorted);\r\n\t}\r\n    if (typeof opts.yAxis.min === 'number') {\r\n       minData = Math.min(opts.yAxis.min, minData);\r\n    }\r\n    if (typeof opts.yAxis.max === 'number') {\r\n        maxData = Math.max(opts.yAxis.max, maxData);\r\n    }\r\n\r\n    // fix issue https://github.com/xiaolin3303/wx-charts/issues/9\r\n    if (minData === maxData) {\r\n        var rangeSpan = maxData || 10;\r\n        //minData -= rangeSpan;\r\n        maxData += rangeSpan;\r\n    }\r\n\r\n    var dataRange = getDataRange(minData, maxData);\r\n    var minRange = dataRange.minRange;\r\n    var maxRange = dataRange.maxRange;\r\n\r\n    var range = [];\r\n    var eachRange = (maxRange - minRange) / config.yAxisSplit;\r\n\r\n    for (var i = 0; i <= config.yAxisSplit; i++) {\r\n        range.push(minRange + eachRange * i);\r\n    }\r\n    return range.reverse();\r\n}\r\n\r\nfunction calYAxisData(series, opts, config) {\r\n\t//堆叠图重算Y轴\r\n\tvar columnstyle=assign({},opts.extra.column||{\"type\":\"\"});\r\n\t\r\n    var ranges = getYAxisTextList(series, opts, config, columnstyle.type);\r\n    var yAxisWidth = config.yAxisWidth;\r\n    var rangesFormat = ranges.map(function (item) {\r\n        item = util.toFixed(item, 2);\r\n        item = opts.yAxis.format ? opts.yAxis.format(Number(item)) : item;\r\n        yAxisWidth = Math.max(yAxisWidth, measureText(item) + 5);\r\n        return item;\r\n    });\r\n    if (opts.yAxis.disabled === true) {\r\n        yAxisWidth = 0;\r\n    }\r\n\r\n    return { rangesFormat: rangesFormat, ranges: ranges, yAxisWidth: yAxisWidth };\r\n}\r\n\r\nfunction calTooltipYAxisData(point,series, opts, config, eachSpacing) {\r\n    var ranges = getYAxisTextList(series, opts, config);\r\n\tvar spacingValid = opts.height - 2 * config.padding - config.xAxisHeight - config.legendHeight;\r\n\tlet maxVal=ranges[0];\r\n\tlet minVal=ranges[ranges.length-1];\r\n\tlet minAxis=config.padding;\r\n\tlet maxAxis=config.padding+spacingValid;\r\n\tlet item=maxVal-(maxVal-minVal)*(point-minAxis)/(maxAxis-minAxis);\r\n\titem = opts.yAxis.format ? opts.yAxis.format(Number(item)) : item;\r\n    return item;\r\n}\r\n\r\nfunction contextRotate(context,opts) {\r\n\tif(opts.rotateLock!==true){\r\n\t\tcontext.translate(opts.height, 0);\r\n\t\tcontext.rotate(90 * Math.PI / 180);\r\n\t}else if(opts._rotate_!==true){\r\n\t\tcontext.translate(opts.height, 0);\r\n\t\tcontext.rotate(90 * Math.PI / 180);\r\n\t\topts._rotate_=true;\r\n\t}\r\n}\r\n\t\r\nfunction drawPointShape(points, color, shape, context,opts) {\r\n    context.beginPath();\r\n    context.setStrokeStyle(\"#ffffff\");\r\n    context.setLineWidth(1*opts.pixelRatio);\r\n    context.setFillStyle(color);\r\n    if (shape === 'diamond') {\r\n        points.forEach(function (item, index) {\r\n            if (item !== null) {\r\n                context.moveTo(item.x, item.y - 4.5);\r\n                context.lineTo(item.x - 4.5, item.y);\r\n                context.lineTo(item.x, item.y + 4.5);\r\n                context.lineTo(item.x + 4.5, item.y);\r\n                context.lineTo(item.x, item.y - 4.5);\r\n            }\r\n        });\r\n    } else if (shape === 'circle') {\r\n        points.forEach(function (item, index) {\r\n            if (item !== null) {\r\n                context.moveTo(item.x + 3.5*opts.pixelRatio, item.y);\r\n                context.arc(item.x, item.y, 4*opts.pixelRatio, 0, 2 * Math.PI, false);\r\n            }\r\n        });\r\n    } else if (shape === 'rect') {\r\n        points.forEach(function (item, index) {\r\n            if (item !== null) {\r\n                context.moveTo(item.x - 3.5, item.y - 3.5);\r\n                context.rect(item.x - 3.5, item.y - 3.5, 7, 7);\r\n            }\r\n        });\r\n    } else if (shape === 'triangle') {\r\n        points.forEach(function (item, index) {\r\n            if (item !== null) {\r\n                context.moveTo(item.x, item.y - 4.5);\r\n                context.lineTo(item.x - 4.5, item.y + 4.5);\r\n                context.lineTo(item.x + 4.5, item.y + 4.5);\r\n                context.lineTo(item.x, item.y - 4.5);\r\n            }\r\n        });\r\n    }\r\n    context.closePath();\r\n    context.fill();\r\n    context.stroke();\r\n}\r\n\r\nfunction drawRingTitle(opts, config, context) {\r\n    var titlefontSize = opts.title.fontSize || config.titleFontSize;\r\n    var subtitlefontSize = opts.subtitle.fontSize || config.subtitleFontSize;\r\n    var title = opts.title.name || '';\r\n    var subtitle = opts.subtitle.name || '';\r\n    var titleFontColor = opts.title.color || config.titleColor;\r\n    var subtitleFontColor = opts.subtitle.color || config.subtitleColor;\r\n    var titleHeight = title ? titlefontSize : 0;\r\n    var subtitleHeight = subtitle ? subtitlefontSize : 0;\r\n    var margin = 5;\r\n    if (subtitle) {\r\n        var textWidth = measureText(subtitle, subtitlefontSize);\r\n        var startX = (opts.width - textWidth) / 2 + (opts.subtitle.offsetX || 0);\r\n        var startY = ((opts.height - config.legendHeight + subtitlefontSize) / 2 )+ (opts.subtitle.offsetY || 0);\r\n        if (title) {\r\n            startY -= (titleHeight + margin) / 2 ;\r\n        }\r\n        context.beginPath();\r\n        context.setFontSize(subtitlefontSize);\r\n        context.setFillStyle(subtitleFontColor);\r\n        context.fillText(subtitle, startX, startY);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n    if (title) {\r\n        var _textWidth = measureText(title, titlefontSize);\r\n        var _startX = (opts.width - _textWidth) / 2 + (opts.title.offsetX || 0);\r\n        var _startY = ((opts.height - config.legendHeight + titlefontSize) / 2 ) + (opts.title.offsetY || 0);\r\n        if (subtitle) {\r\n            _startY += (subtitleHeight + margin) / 2;\r\n        }\r\n        context.beginPath();\r\n        context.setFontSize(titlefontSize);\r\n        context.setFillStyle(titleFontColor);\r\n        context.fillText(title, _startX, _startY);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n}\r\n\r\nfunction drawPointText(points, series, config, context) {\r\n    // 绘制数据文案\r\n    var data = series.data;\r\n\r\n    \r\n    points.forEach(function (item, index) {\r\n        if (item !== null) {\r\n            //var formatVal = series.format ? series.format(data[index]) : data[index];\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFontSize(config.fontSize);\r\n\t\t\tcontext.setFillStyle('#666666');\r\n\t\t\tvar value = data[index]\r\n\t\t\tif(typeof data[index] === 'object' && data[index] !== null) {\r\n\t\t\t\tvalue = data[index].value\r\n\t\t\t}\r\n            var formatVal = series.format ? series.format(value) : value;\r\n            context.fillText(formatVal, item.x - measureText(formatVal) / 2, item.y - 2);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.stroke();\r\n        }\r\n    });\r\n   \r\n}\r\n\r\nfunction drawGaugeLabel(gaugeOption, radius, centerPosition, opts, config, context) {\r\n    radius -= gaugeOption.width/2+config.gaugeLabelTextMargin;\r\n    \r\n\tlet totalAngle=gaugeOption.startAngle-gaugeOption.endAngle+1;\r\n\tlet splitAngle=totalAngle/gaugeOption.splitLine.splitNumber;\r\n\tlet totalNumber=gaugeOption.endNumber-gaugeOption.startNumber;\r\n\tlet splitNumber=totalNumber/gaugeOption.splitLine.splitNumber;\r\n\tlet nowAngle=gaugeOption.startAngle;\r\n\tlet nowNumber=gaugeOption.startNumber;\r\n\tfor(let i=0;i<gaugeOption.splitLine.splitNumber+1;i++){\r\n\t\tvar pos = {\r\n\t\t    x: radius * Math.cos(nowAngle*Math.PI),\r\n\t\t    y: radius * Math.sin(nowAngle*Math.PI)\r\n\t\t};\r\n\t\tpos.x+=centerPosition.x-measureText(nowNumber)/2;\r\n\t\tpos.y+=centerPosition.y;\r\n\t\tvar startX = pos.x;\r\n\t\tvar startY = pos.y;\r\n\t\t\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.setFillStyle(gaugeOption.labelColor || '#666666');\r\n\t\tcontext.fillText(nowNumber, startX, startY + config.fontSize / 2);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t\t\r\n\t\tnowAngle+=splitAngle;\r\n\t\tif(nowAngle>=2){\r\n\t\t\tnowAngle=nowAngle % 2;\r\n\t\t}\r\n\t\tnowNumber+=splitNumber;\r\n\t}\r\n\t\r\n}\r\n\r\nfunction drawRadarLabel(angleList, radius, centerPosition, opts, config, context) {\r\n    var radarOption = opts.extra.radar || {};\r\n    radius += config.radarLabelTextMargin;\r\n    \r\n    angleList.forEach(function (angle, index) {\r\n        var pos = {\r\n            x: radius * Math.cos(angle),\r\n            y: radius * Math.sin(angle)\r\n        };\r\n        var posRelativeCanvas = convertCoordinateOrigin(pos.x, pos.y, centerPosition);\r\n        var startX = posRelativeCanvas.x;\r\n        var startY = posRelativeCanvas.y;\r\n        if (util.approximatelyEqual(pos.x, 0)) {\r\n            startX -= measureText(opts.categories[index] || '') / 2;\r\n        } else if (pos.x < 0) {\r\n            startX -= measureText(opts.categories[index] || '');\r\n        }\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.setFillStyle(radarOption.labelColor || '#666666');\r\n        context.fillText(opts.categories[index] || '', startX, startY + config.fontSize / 2);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n    });\r\n    \r\n}\r\n\r\nfunction drawPieText(series, opts, config, context, radius, center) {\r\n    var lineRadius = radius + config.pieChartLinePadding;\r\n    var textObjectCollection = [];\r\n    var lastTextObject = null;\r\n\r\n    var seriesConvert = series.map(function (item) {\r\n        var arc = 2 * Math.PI - (item._start_ + 2 * Math.PI * item._proportion_ / 2);\r\n        var text = item.format ? item.format(+item._proportion_.toFixed(2)) : util.toFixed(item._proportion_ * 100) + '%';\r\n        var color = item.color;\r\n        return { arc: arc, text: text, color: color };\r\n    });\r\n    seriesConvert.forEach(function (item) {\r\n        // line end\r\n        var orginX1 = Math.cos(item.arc) * lineRadius;\r\n        var orginY1 = Math.sin(item.arc) * lineRadius;\r\n\r\n        // line start\r\n        var orginX2 = Math.cos(item.arc) * radius;\r\n        var orginY2 = Math.sin(item.arc) * radius;\r\n\r\n        // text start\r\n        var orginX3 = orginX1 >= 0 ? orginX1 + config.pieChartTextPadding : orginX1 - config.pieChartTextPadding;\r\n        var orginY3 = orginY1;\r\n\r\n        var textWidth = measureText(item.text);\r\n        var startY = orginY3;\r\n\r\n        if (lastTextObject && util.isSameXCoordinateArea(lastTextObject.start, { x: orginX3 })) {\r\n            if (orginX3 > 0) {\r\n                startY = Math.min(orginY3, lastTextObject.start.y);\r\n            } else if (orginX1 < 0) {\r\n                startY = Math.max(orginY3, lastTextObject.start.y);\r\n            } else {\r\n                if (orginY3 > 0) {\r\n                    startY = Math.max(orginY3, lastTextObject.start.y);\r\n                } else {\r\n                    startY = Math.min(orginY3, lastTextObject.start.y);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (orginX3 < 0) {\r\n            orginX3 -= textWidth;\r\n        }\r\n\r\n        var textObject = {\r\n            lineStart: {\r\n                x: orginX2,\r\n                y: orginY2\r\n            },\r\n            lineEnd: {\r\n                x: orginX1,\r\n                y: orginY1\r\n            },\r\n            start: {\r\n                x: orginX3,\r\n                y: startY\r\n            },\r\n            width: textWidth,\r\n            height: config.fontSize,\r\n            text: item.text,\r\n            color: item.color\r\n        };\r\n\r\n        lastTextObject = avoidCollision(textObject, lastTextObject);\r\n        textObjectCollection.push(lastTextObject);\r\n    });\r\n\r\n    textObjectCollection.forEach(function (item) {\r\n        var lineStartPoistion = convertCoordinateOrigin(item.lineStart.x, item.lineStart.y, center);\r\n        var lineEndPoistion = convertCoordinateOrigin(item.lineEnd.x, item.lineEnd.y, center);\r\n        var textPosition = convertCoordinateOrigin(item.start.x, item.start.y, center);\r\n        context.setLineWidth(1*opts.pixelRatio);\r\n        context.setFontSize(config.fontSize);\r\n        context.beginPath();\r\n        context.setStrokeStyle(item.color);\r\n        context.setFillStyle(item.color);\r\n        context.moveTo(lineStartPoistion.x, lineStartPoistion.y);\r\n        var curveStartX = item.start.x < 0 ? textPosition.x + item.width : textPosition.x;\r\n        var textStartX = item.start.x < 0 ? textPosition.x - 5 : textPosition.x + 5;\r\n        context.quadraticCurveTo(lineEndPoistion.x, lineEndPoistion.y, curveStartX, textPosition.y);\r\n        context.moveTo(lineStartPoistion.x, lineStartPoistion.y);\r\n        context.stroke();\r\n        context.closePath();\r\n        context.beginPath();\r\n        context.moveTo(textPosition.x + item.width, textPosition.y);\r\n        context.arc(curveStartX, textPosition.y, 2, 0, 2 * Math.PI);\r\n        context.closePath();\r\n        context.fill();\r\n        context.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n        context.setFillStyle('#666666');\r\n        context.fillText(item.text, textStartX, textPosition.y + 3);\r\n        context.closePath();\r\n        context.stroke();\r\n        context.closePath();\r\n    });\r\n}\r\n\r\nfunction drawToolTipSplitLine(offsetX, opts, config, context) {\r\n\tvar toolTipOption = opts.extra.tooltip || {};\r\n\ttoolTipOption.gridType=toolTipOption.gridType==undefined? 'solid':toolTipOption.gridType;\r\n\ttoolTipOption.dashLength=toolTipOption.dashLength==undefined? 4:toolTipOption.dashLength;\r\n    var startY = config.padding;\r\n    var endY = opts.height - config.padding - config.xAxisHeight - config.legendHeight;\r\n\r\n\tif(toolTipOption.gridType=='dash'){\r\n\t\tcontext.setLineDash([toolTipOption.dashLength,toolTipOption.dashLength]);\r\n\t}\r\n    context.beginPath();\r\n\tcontext.setStrokeStyle(toolTipOption.gridColor || '#cccccc');\r\n\tcontext.setLineWidth(1*opts.pixelRatio);\r\n    context.moveTo(offsetX, startY);\r\n    context.lineTo(offsetX, endY);\r\n    context.closePath();\r\n    context.stroke();\r\n\tcontext.setLineDash([]);\r\n\t\r\n\tif(toolTipOption.xAxisLabel){\r\n\t\tlet lableText = opts.categories[opts.tooltip.index];\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tlet textWidth = context.measureText(lableText).width;\r\n\t\t\r\n\t\tlet textX = offsetX - config.toolTipPadding - 0.5 * textWidth ;\r\n\t\tlet textY = endY;\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFillStyle(hexToRgb(toolTipOption.labelBgColor || config.toolTipBackground, toolTipOption.labelBgOpacity || config.toolTipOpacity));\r\n\t\tcontext.setStrokeStyle(toolTipOption.labelBgColor || config.toolTipBackground);\r\n\t\tcontext.setLineWidth(1*opts.pixelRatio);\r\n\t\tcontext.rect(textX, textY, textWidth + 2 * config.toolTipPadding , config.fontSize + 2 * config.toolTipPadding);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t\tcontext.fill();\r\n\t\t\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.setFillStyle(toolTipOption.labelFontColor || config.fontColor);\r\n\t\tcontext.fillText(lableText, textX+2*config.toolTipPadding, textY+config.toolTipPadding+config.fontSize);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t}\r\n}\r\n\r\nfunction drawToolTipHorizentalLine(opts, config, context, eachSpacing, xAxisPoints) {\r\n\tvar toolTipOption = opts.extra.tooltip || {};\r\n\ttoolTipOption.gridType=toolTipOption.gridType==undefined? 'solid':toolTipOption.gridType;\r\n\ttoolTipOption.dashLength=toolTipOption.dashLength==undefined? 4:toolTipOption.dashLength;\r\n\tvar startX = config.padding + config.yAxisWidth + config.yAxisTitleWidth;\r\n\tvar endX = opts.width-config.padding;\r\n\t\r\n\tif(toolTipOption.gridType=='dash'){\r\n\t\tcontext.setLineDash([toolTipOption.dashLength,toolTipOption.dashLength]);\r\n\t}\r\n    context.beginPath();\r\n\tcontext.setStrokeStyle(toolTipOption.gridColor || '#cccccc');\r\n\tcontext.setLineWidth(1*opts.pixelRatio);\r\n\tcontext.moveTo(startX, opts.tooltip.offset.y);\r\n\tcontext.lineTo(endX, opts.tooltip.offset.y);\r\n    context.closePath();\r\n    context.stroke();\r\n\tcontext.setLineDash([]);\r\n\t\r\n\tif(toolTipOption.yAxisLabel){\r\n\t\t\r\n\t\tlet lableText = calTooltipYAxisData(opts.tooltip.offset.y,opts.series, opts, config,eachSpacing);\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tlet textWidth = context.measureText(lableText).width;\r\n\t\t\r\n\t\tlet textX = startX - 2*config.toolTipPadding - textWidth ;\r\n\t\tlet textY = opts.tooltip.offset.y;\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFillStyle(hexToRgb(toolTipOption.labelBgColor || config.toolTipBackground, toolTipOption.labelBgOpacity || config.toolTipOpacity));\r\n\t\tcontext.setStrokeStyle(toolTipOption.labelBgColor || config.toolTipBackground);\r\n\t\tcontext.setLineWidth(1*opts.pixelRatio);\r\n\t\tcontext.rect(textX, textY-0.5*config.fontSize-config.toolTipPadding, textWidth + 2 * config.toolTipPadding , config.fontSize + 2 * config.toolTipPadding);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t\tcontext.fill();\r\n\t\t\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.setFillStyle(toolTipOption.labelFontColor || config.fontColor);\r\n\t\tcontext.fillText(lableText, textX+config.toolTipPadding, textY+0.5*config.fontSize);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t}\r\n}\r\n\r\n\r\nfunction drawToolTipSplitArea(offsetX, opts, config, context, eachSpacing) {\r\n\tvar toolTipOption = opts.extra.tooltip || {activeBgColor :'#000000',activeBgOpacity :0.08};\r\n\ttoolTipOption.activeBgColor = toolTipOption.activeBgColor? toolTipOption.activeBgColor:'#000000';\r\n\ttoolTipOption.activeBgOpacity = toolTipOption.activeBgOpacity? toolTipOption.activeBgOpacity:0.08;\r\n    var startY = config.padding;\r\n    var endY = opts.height - config.padding - config.xAxisHeight - config.legendHeight;\r\n    context.beginPath();\r\n\tcontext.setFillStyle(hexToRgb(toolTipOption.activeBgColor, toolTipOption.activeBgOpacity));\r\n\tcontext.rect(offsetX-eachSpacing/2, startY, eachSpacing, endY-startY);\r\n\tcontext.closePath();\r\n\tcontext.fill();\r\n}\r\n\r\nfunction drawToolTip(textList, offset, opts, config, context, eachSpacing, xAxisPoints) {\r\n\tvar toolTipOption = opts.extra.tooltip || {bgColor:'#000000',bgOpacity :0.7,fontColor:'#FFFFFF'};\r\n\ttoolTipOption.bgColor = toolTipOption.bgColor? toolTipOption.bgColor:'#000000';\r\n\ttoolTipOption.bgOpacity = toolTipOption.bgOpacity? toolTipOption.bgOpacity:0.7;\r\n\ttoolTipOption.fontColor  = toolTipOption.fontColor ? toolTipOption.fontColor :'#FFFFFF';\r\n    var legendWidth = 4*opts.pixelRatio;\r\n    var legendMarginRight = 5*opts.pixelRatio;\r\n    var arrowWidth = 8*opts.pixelRatio;\r\n    var isOverRightBorder = false;\r\n\tif(opts.type=='line' || opts.type=='area' ||opts.type=='candle' || opts.type=='mix'){\r\n\t\tdrawToolTipSplitLine(opts.tooltip.offset.x, opts, config, context);\r\n\t}\r\n\t\r\n    offset = assign({\r\n        x: 0,\r\n        y: 0\r\n    }, offset);\r\n    offset.y -= 8*opts.pixelRatio;\r\n    var textWidth = textList.map(function (item) {\r\n        return measureText(item.text);\r\n    });\r\n\r\n    var toolTipWidth = legendWidth + legendMarginRight + 4 * config.toolTipPadding + Math.max.apply(null, textWidth);\r\n    var toolTipHeight = 2 * config.toolTipPadding + textList.length * config.toolTipLineHeight;\r\n\r\n    // if beyond the right border\r\n    if (offset.x - Math.abs(opts._scrollDistance_) + arrowWidth + toolTipWidth > opts.width) {\r\n        isOverRightBorder = true;\r\n    }\r\n\r\n    // draw background rect\r\n    context.beginPath();\r\n    context.setFillStyle(hexToRgb(toolTipOption.bgColor || config.toolTipBackground, toolTipOption.bgOpacity || config.toolTipOpacity));\r\n    if (isOverRightBorder) {\r\n        context.moveTo(offset.x, offset.y + 10*opts.pixelRatio);\r\n        context.lineTo(offset.x - arrowWidth, offset.y + 10*opts.pixelRatio - 5*opts.pixelRatio);\r\n        context.lineTo(offset.x - arrowWidth, offset.y);\r\n        context.lineTo(offset.x - arrowWidth - Math.round(toolTipWidth), offset.y);\r\n        context.lineTo(offset.x - arrowWidth - Math.round(toolTipWidth), offset.y+toolTipHeight);\r\n        context.lineTo(offset.x - arrowWidth, offset.y+toolTipHeight);\r\n        context.lineTo(offset.x - arrowWidth, offset.y + 10*opts.pixelRatio + 5*opts.pixelRatio);\r\n        context.lineTo(offset.x, offset.y + 10*opts.pixelRatio);\r\n    } else {\r\n        context.moveTo(offset.x, offset.y + 10*opts.pixelRatio);\r\n        context.lineTo(offset.x + arrowWidth, offset.y + 10*opts.pixelRatio - 5*opts.pixelRatio);\r\n\t\tcontext.lineTo(offset.x + arrowWidth, offset.y);\r\n\t\tcontext.lineTo(offset.x + arrowWidth + Math.round(toolTipWidth), offset.y);\r\n\t\tcontext.lineTo(offset.x + arrowWidth + Math.round(toolTipWidth), offset.y+toolTipHeight);\r\n\t\tcontext.lineTo(offset.x + arrowWidth, offset.y+toolTipHeight);\r\n        context.lineTo(offset.x + arrowWidth, offset.y + 10*opts.pixelRatio + 5*opts.pixelRatio);\r\n        context.lineTo(offset.x, offset.y + 10*opts.pixelRatio);\r\n    }\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // draw legend\r\n    textList.forEach(function (item, index) {\r\n\t\tif(item.color !== null){\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFillStyle(item.color);\r\n\t\t\tvar startX = offset.x + arrowWidth + 2 * config.toolTipPadding;\r\n\t\t\tvar startY = offset.y + (config.toolTipLineHeight - config.fontSize) / 2 + config.toolTipLineHeight * index + config.toolTipPadding + 1;\r\n\t\t\tif (isOverRightBorder) {\r\n\t\t\t    startX = offset.x - toolTipWidth - arrowWidth + 2 * config.toolTipPadding;\r\n\t\t\t}\r\n\t\t\tcontext.fillRect(startX, startY, legendWidth, config.fontSize);\r\n\t\t\tcontext.closePath();\r\n\t\t}\r\n    });\r\n\r\n    // draw text list\r\n    \r\n    textList.forEach(function (item, index) {\r\n        var startX = offset.x + arrowWidth + 2 * config.toolTipPadding + legendWidth + legendMarginRight;\r\n        if (isOverRightBorder) {\r\n            startX = offset.x - toolTipWidth - arrowWidth + 2 * config.toolTipPadding + +legendWidth + legendMarginRight;\r\n        }\r\n        var startY = offset.y + (config.toolTipLineHeight - config.fontSize) / 2 + config.toolTipLineHeight * index + config.toolTipPadding;\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.setFillStyle(toolTipOption.fontColor);\r\n        context.fillText(item.text, startX, startY + config.fontSize);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n    });\r\n}\r\n\r\nfunction drawYAxisTitle(title, opts, config, context) {\r\n    var startX = config.xAxisHeight + (opts.height - config.xAxisHeight - measureText(title)) / 2;\r\n    context.save();\r\n    context.beginPath();\r\n    context.setFontSize(config.fontSize);\r\n    context.setFillStyle(opts.yAxis.titleFontColor || '#333333');\r\n    context.translate(0, opts.height);\r\n    context.rotate(-90 * Math.PI / 180);\r\n    context.fillText(title, startX, config.padding + 0.5 * config.fontSize);\r\n    context.closePath();\r\n    context.stroke();\r\n    context.restore();\r\n}\r\n\r\nfunction drawColumnDataPoints(series, opts, config, context) {\r\n    var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar columnOption = opts.extra.column || {type:{},meter:{}};\r\n\tcolumnOption.type=columnOption.type==undefined? 'group':columnOption.type;\r\n\tcolumnOption.meter=columnOption.meter||{}\r\n\tcolumnOption.meter.border=columnOption.meter.border==undefined? 4:columnOption.meter.border;\r\n\tcolumnOption.meter.fillColor=columnOption.meter.fillColor==undefined? '#FFFFFF':columnOption.meter.fillColor;\r\n    var _calYAxisData = calYAxisData(series, opts, config),\r\n        ranges = _calYAxisData.ranges;\r\n\t\t\r\n    var _getXAxisPoints = getXAxisPoints(opts.categories, opts, config),\r\n        xAxisPoints = _getXAxisPoints.xAxisPoints,\r\n        eachSpacing = _getXAxisPoints.eachSpacing;\r\n\r\n    var minRange = ranges.pop();\r\n    var maxRange = ranges.shift();\r\n\tvar calPoints = [];\r\n\t\r\n    context.save();\r\n    if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n        context.translate(opts._scrollDistance_, 0);\r\n    }\r\n\tif (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n\t    drawToolTipSplitArea(opts.tooltip.offset.x, opts, config, context, eachSpacing);\r\n\t}\r\n\t\r\n    series.forEach(function (eachSeries, seriesIndex) {\r\n        var data = eachSeries.data;\r\n\t\tswitch (columnOption.type){\r\n\t\tcase 'group':\r\n\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n\t\t\tvar tooltipPoints = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series,process);\r\n\t\t\tcalPoints.push(tooltipPoints);\r\n\t\t\tpoints = fixColumeData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t\tif (item !== null) {\r\n\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\tcontext.setFillStyle(item.color || eachSeries.color);\r\n\t\t\t\t\tvar startX = item.x - item.width / 2 + 1;\r\n\t\t\t\t\tvar height = opts.height - item.y - config.padding - config.xAxisHeight - config.legendHeight;\r\n\t\t\t\t\tcontext.moveTo(startX, item.y);\r\n\t\t\t\t\tcontext.fillRect(startX, item.y, item.width - 2, height);\r\n\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'stack':\r\n\t\t\t// 绘制堆叠数据图\r\n\t\t\tvar points = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series,process);\r\n\t\t\tcalPoints.push(points);\r\n\t\t\tpoints = fixColumeStackData(points, eachSpacing, series.length, seriesIndex, config, opts,series);\r\n\t\t\t\r\n\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t\tif (item !== null) {\r\n\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\tcontext.setFillStyle(item.color || eachSeries.color);\r\n\t\t\t\t\tvar startX = item.x - item.width / 2 + 1;\r\n\t\t\t\t\tvar height = opts.height - item.y - config.padding - config.xAxisHeight - config.legendHeight;\r\n\t\t\t\t\tvar height0 = opts.height - item.y0 - config.padding - config.xAxisHeight - config.legendHeight;\r\n\t\t\t\t\tif(seriesIndex>0){\r\n\t\t\t\t\t\theight -= height0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.moveTo(startX, item.y);\r\n\t\t\t\t\tcontext.fillRect(startX, item.y, item.width - 2, height);\r\n\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'meter':\r\n\t\t// 绘制温度计数据图\r\n\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n\t\t\tcalPoints.push(points);\r\n\t\t\tpoints = fixColumeMeterData(points, eachSpacing, series.length, seriesIndex, config, opts, columnOption.meter.border);\r\n\t\t\tif(seriesIndex==0){\r\n\t\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t\t\tif (item !== null) {\r\n\t\t\t\t\t\t//画背景颜色\r\n\t\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\t\tcontext.setFillStyle(columnOption.meter.fillColor);\r\n\t\t\t\t\t\tvar startX = item.x - item.width / 2 + 1;\r\n\t\t\t\t\t\tvar height = opts.height - item.y - config.padding - config.xAxisHeight - config.legendHeight;\r\n\t\t\t\t\t\tcontext.moveTo(startX, item.y);\r\n\t\t\t\t\t\tcontext.fillRect(startX, item.y, item.width - 2, height);\r\n\t\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\t\t//画边框线\r\n\t\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\t\t\t\t\tcontext.setLineWidth(columnOption.meter.border*opts.pixelRatio);\r\n\t\t\t\t\t\tcontext.moveTo(startX+columnOption.meter.border*0.5, item.y+height);\r\n\t\t\t\t\t\tcontext.lineTo(startX+columnOption.meter.border*0.5, item.y+columnOption.meter.border*0.5);\r\n\t\t\t\t\t\tcontext.lineTo(startX+item.width-columnOption.meter.border, item.y+columnOption.meter.border*0.5);\r\n\t\t\t\t\t\tcontext.lineTo(startX+item.width-columnOption.meter.border, item.y+height);\r\n\t\t\t\t\t\tcontext.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t\t\tif (item !== null) {\r\n\t\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\t\tcontext.setFillStyle(item.color || eachSeries.color);\r\n\t\t\t\t\t\tvar startX = item.x - item.width / 2 + 1;\r\n\t\t\t\t\t\tvar height = opts.height - item.y - config.padding - config.xAxisHeight - config.legendHeight;\r\n\t\t\t\t\t\tcontext.moveTo(startX, item.y);\r\n\t\t\t\t\t\tcontext.rect(startX, item.y, item.width - 2, height);\r\n\t\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n    });\r\n\tif (opts.dataLabel !== false && process === 1) {\r\n\t    series.forEach(function (eachSeries, seriesIndex) {\r\n\t        var data = eachSeries.data;\r\n\t\t\tswitch (columnOption.type){\r\n\t\t\t\tcase 'group':\r\n\t\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n\t\t\t\tpoints = fixColumeData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n\t\t\t\t\r\n\t\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 'stack':\r\n\t\t\t\tvar points = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series,process);\r\n\t\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 'meter':\r\n\t\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n\t\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t    });\r\n\t}\r\n\t\r\n    context.restore();\r\n\t\r\n    return {\r\n        xAxisPoints: xAxisPoints,\r\n\t\tcalPoints: calPoints,\r\n        eachSpacing: eachSpacing\r\n    };\r\n}\r\n\r\nfunction drawCandleDataPoints(series, opts, config, context) {\r\n    var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar candleOption = opts.extra.candle || {color:{},average:{}};\r\n\tcandleOption.color.upLine=candleOption.color.upLine? candleOption.color.upLine: '#f04864';\r\n\tcandleOption.color.upFill=candleOption.color.upFill? candleOption.color.upFill: '#f04864';\r\n\tcandleOption.color.downLine=candleOption.color.downLine? candleOption.color.downLine: '#2fc25b';\r\n\tcandleOption.color.downFill=candleOption.color.downFill? candleOption.color.downFill: '#2fc25b';\r\n\tcandleOption.average.show = candleOption.average.show===true? true : false;\r\n\tcandleOption.average.name = candleOption.average.name? candleOption.average.name : [];\r\n\tcandleOption.average.day = candleOption.average.day? candleOption.average.day : [];\r\n\tcandleOption.average.color = candleOption.average.color? candleOption.average.color : ['#1890ff', '#2fc25b', '#facc14', '#f04864', '#8543e0', '#90ed7d'];\r\n\topts.extra.candle=candleOption;\r\n\t\r\n    var _calYAxisData5 = calYAxisData(series, opts, config),\r\n        ranges = _calYAxisData5.ranges;\r\n\t\t\r\n    var _getXAxisPoints5 = getXAxisPoints(opts.categories, opts, config),\r\n        xAxisPoints = _getXAxisPoints5.xAxisPoints,\r\n        eachSpacing = _getXAxisPoints5.eachSpacing;\r\n\r\n    var minRange = ranges.pop();\r\n    var maxRange = ranges.shift();\r\n    var calPoints = [];\r\n\r\n    context.save();\r\n    if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n        context.translate(opts._scrollDistance_, 0);\r\n    }\r\n\r\n    series.forEach(function (eachSeries, seriesIndex) {\r\n        var data = eachSeries.data;\r\n        var points = getCandleDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n        calPoints.push(points);\r\n        var splitPointList = splitPoints(points);\r\n\t\tsplitPointList=splitPointList[0];\r\n\t\t\r\n        splitPointList.forEach(function (points, index) {\r\n\t\t\tcontext.beginPath();\r\n\t\t\t//如果上涨\r\n\t\t\tif(data[index][1]-data[index][0]>0){\r\n\t\t\t\tcontext.setStrokeStyle(candleOption.color.upLine);\r\n\t\t\t\tcontext.setFillStyle(candleOption.color.upFill);\r\n\t\t\t\tcontext.setLineWidth(1*opts.pixelRatio);\r\n\t\t\t\tcontext.moveTo(points[3].x, points[3].y);//顶点\r\n\t\t\t\tcontext.lineTo(points[1].x, points[1].y);//收盘中间点\r\n\t\t\t\tcontext.lineTo(points[1].x-eachSpacing/4, points[1].y);//收盘左侧点\r\n\t\t\t\tcontext.lineTo(points[0].x-eachSpacing/4, points[0].y);//开盘左侧点\r\n\t\t\t\tcontext.lineTo(points[0].x, points[0].y);//开盘中间点\r\n\t\t\t\tcontext.lineTo(points[2].x, points[2].y);//底点\r\n\t\t\t\tcontext.lineTo(points[0].x, points[0].y);//开盘中间点\r\n\t\t\t\tcontext.lineTo(points[0].x+eachSpacing/4, points[0].y);//开盘右侧点\r\n\t\t\t\tcontext.lineTo(points[1].x+eachSpacing/4, points[1].y);//收盘右侧点\r\n\t\t\t\tcontext.lineTo(points[1].x, points[1].y);//收盘中间点\r\n\t\t\t\tcontext.moveTo(points[3].x, points[3].y);//顶点\r\n\t\t\t}else{\r\n\t\t\t\tcontext.setStrokeStyle(candleOption.color.downLine);\r\n\t\t\t\tcontext.setFillStyle(candleOption.color.downFill);\r\n\t\t\t\tcontext.setLineWidth(1*opts.pixelRatio);\r\n\t\t\t\tcontext.moveTo(points[3].x, points[3].y);//顶点\r\n\t\t\t\tcontext.lineTo(points[0].x, points[0].y);//开盘中间点\r\n\t\t\t\tcontext.lineTo(points[0].x-eachSpacing/4, points[0].y);//开盘左侧点\r\n\t\t\t\tcontext.lineTo(points[1].x-eachSpacing/4, points[1].y);//收盘左侧点\r\n\t\t\t\tcontext.lineTo(points[1].x, points[1].y);//收盘中间点\r\n\t\t\t\tcontext.lineTo(points[2].x, points[2].y);//底点\r\n\t\t\t\tcontext.lineTo(points[1].x, points[1].y);//收盘中间点\r\n\t\t\t\tcontext.lineTo(points[1].x+eachSpacing/4, points[1].y);//收盘右侧点\r\n\t\t\t\tcontext.lineTo(points[0].x+eachSpacing/4, points[0].y);//开盘右侧点\r\n\t\t\t\tcontext.lineTo(points[0].x, points[0].y);//开盘中间点\r\n\t\t\t\tcontext.moveTo(points[3].x, points[3].y);//顶点\r\n\t\t\t}\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.fill();\r\n\t\t\tcontext.stroke();\r\n        });\r\n    });\r\n\r\n    context.restore();\r\n\t\r\n\t//画均线\r\n\tif(candleOption.average.show){\r\n\t\t\r\n\t}\r\n\r\n    return {\r\n        xAxisPoints: xAxisPoints,\r\n        calPoints: calPoints,\r\n        eachSpacing: eachSpacing\r\n    };\r\n}\r\n\r\nfunction drawAreaDataPoints(series, opts, config, context) {\r\n    var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar areaOption = opts.extra.area || {type:'straight',opacity:0.5,addLine:false,width:2};\r\n\tareaOption.type = areaOption.type? areaOption.type: 'straight';\r\n\tareaOption.opacity = areaOption.opacity? areaOption.opacity: 0.2;\r\n\tareaOption.addLine = areaOption.addLine==true? true: false;\r\n\tareaOption.width = areaOption.width? areaOption.width: 2;\r\n    var _calYAxisData2 = calYAxisData(series, opts, config),\r\n        ranges = _calYAxisData2.ranges;\r\n\r\n    var _getXAxisPoints2 = getXAxisPoints(opts.categories, opts, config),\r\n        xAxisPoints = _getXAxisPoints2.xAxisPoints,\r\n        eachSpacing = _getXAxisPoints2.eachSpacing;\r\n\r\n    var minRange = ranges.pop();\r\n    var maxRange = ranges.shift();\r\n    var endY = opts.height - config.padding - config.xAxisHeight - config.legendHeight;\r\n    var calPoints = [];\r\n\r\n    context.save();\r\n    if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n        context.translate(opts._scrollDistance_, 0);\r\n    }\r\n\r\n    if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n        drawToolTipSplitLine(opts.tooltip.offset.x, opts, config, context);\r\n    }\r\n\t\r\n\t\r\n    series.forEach(function (eachSeries, seriesIndex) {\r\n        var data = eachSeries.data;\r\n        var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n        calPoints.push(points);\r\n\r\n        var splitPointList = splitPoints(points);\r\n\r\n        splitPointList.forEach(function (points) {\r\n            // 绘制区域数据\r\n            context.beginPath();\r\n            context.setStrokeStyle(hexToRgb(eachSeries.color, areaOption.opacity));\r\n            context.setFillStyle(hexToRgb(eachSeries.color, areaOption.opacity));\r\n            context.setLineWidth(areaOption.width*opts.pixelRatio);\r\n            if (points.length > 1) {\r\n                var firstPoint = points[0];\r\n                var lastPoint = points[points.length - 1];\r\n\r\n                context.moveTo(firstPoint.x, firstPoint.y);\r\n                if (areaOption.type === 'curve') {\r\n                    points.forEach(function (item, index) {\r\n                        if (index > 0) {\r\n                            var ctrlPoint = createCurveControlPoints(points, index - 1);\r\n                            context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n                        }\r\n                    });\r\n                } else {\r\n                    points.forEach(function (item, index) {\r\n                        if (index > 0) {\r\n                            context.lineTo(item.x, item.y);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                context.lineTo(lastPoint.x, endY);\r\n                context.lineTo(firstPoint.x, endY);\r\n                context.lineTo(firstPoint.x, firstPoint.y);\r\n            } else {\r\n                var item = points[0];\r\n                context.moveTo(item.x - eachSpacing / 2, item.y);\r\n                context.lineTo(item.x + eachSpacing / 2, item.y);\r\n                context.lineTo(item.x + eachSpacing / 2, endY);\r\n                context.lineTo(item.x - eachSpacing / 2, endY);\r\n                context.moveTo(item.x - eachSpacing / 2, item.y);\r\n            }\r\n            context.closePath();\r\n            context.fill();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//画连线\r\n\t\t\tif(areaOption.addLine){\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\t\t\tcontext.setLineWidth(areaOption.width * opts.pixelRatio);\r\n\t\t\t\tif (points.length === 1) {\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t\tcontext.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t\tif (areaOption.type === 'curve') {\r\n\t\t\t\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\tvar ctrlPoint = createCurveControlPoints(points, index - 1);\r\n\t\t\t\t\t\t\t\tcontext.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\tcontext.lineTo(item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t});\t\r\n\t\t\r\n\t\t//画点\r\n        if (opts.dataPointShape !== false) {\r\n            var shape = config.dataPointShape[seriesIndex % config.dataPointShape.length];\r\n            drawPointShape(points, eachSeries.color, shape, context,opts);\r\n        }\r\n\t\t\r\n    });\r\n    if (opts.dataLabel !== false && process === 1) {\r\n        series.forEach(function (eachSeries, seriesIndex) {\r\n            var data = eachSeries.data;\r\n            var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n            drawPointText(points, eachSeries, config, context);\r\n        });\r\n    }\r\n\r\n    context.restore();\r\n\r\n    return {\r\n        xAxisPoints: xAxisPoints,\r\n        calPoints: calPoints,\r\n        eachSpacing: eachSpacing\r\n    };\r\n}\r\n\r\nfunction drawLineDataPoints(series, opts, config, context) {\r\n    var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar lineOption = opts.extra.line || {type:'straight',width:2};\r\n\tlineOption.type = lineOption.type? lineOption.type: 'straight';\r\n\tlineOption.width = lineOption.width? lineOption.width: 2;\r\n    var _calYAxisData3 = calYAxisData(series, opts, config),\r\n        ranges = _calYAxisData3.ranges;\r\n\r\n    var _getXAxisPoints3 = getXAxisPoints(opts.categories, opts, config),\r\n        xAxisPoints = _getXAxisPoints3.xAxisPoints,\r\n        eachSpacing = _getXAxisPoints3.eachSpacing;\r\n\r\n    var minRange = ranges.pop();\r\n    var maxRange = ranges.shift();\r\n    var calPoints = [];\r\n\r\n    context.save();\r\n    if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n        context.translate(opts._scrollDistance_, 0);\r\n    }\r\n\r\n    if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n        drawToolTipSplitLine(opts.tooltip.offset.x, opts, config, context);\r\n    }\r\n\r\n    series.forEach(function (eachSeries, seriesIndex) {\r\n        var data = eachSeries.data;\r\n        var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n        calPoints.push(points);\r\n        var splitPointList = splitPoints(points);\r\n\r\n        splitPointList.forEach(function (points, index) {\r\n            context.beginPath();\r\n            context.setStrokeStyle(eachSeries.color);\r\n            context.setLineWidth(lineOption.width*opts.pixelRatio);\r\n            if (points.length === 1) {\r\n                context.moveTo(points[0].x, points[0].y);\r\n                context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n            } else {\r\n                context.moveTo(points[0].x, points[0].y);\r\n                if (lineOption.type === 'curve') {\r\n                    points.forEach(function (item, index) {\r\n                        if (index > 0) {\r\n                            var ctrlPoint = createCurveControlPoints(points, index - 1);\r\n                            context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n                        }\r\n                    });\r\n                } else {\r\n                    points.forEach(function (item, index) {\r\n                        if (index > 0) {\r\n                            context.lineTo(item.x, item.y);\r\n                        }\r\n                    });\r\n                }\r\n                context.moveTo(points[0].x, points[0].y);\r\n            }\r\n            context.closePath();\r\n            context.stroke();\r\n        });\r\n\r\n        if (opts.dataPointShape !== false) {\r\n            var shape = config.dataPointShape[seriesIndex % config.dataPointShape.length];\r\n            drawPointShape(points, eachSeries.color, shape, context,opts);\r\n        }\r\n    });\r\n    if (opts.dataLabel !== false && process === 1) {\r\n        series.forEach(function (eachSeries, seriesIndex) {\r\n            var data = eachSeries.data;\r\n            var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n            drawPointText(points, eachSeries, config, context);\r\n        });\r\n    }\r\n\r\n    context.restore();\r\n\r\n    return {\r\n        xAxisPoints: xAxisPoints,\r\n        calPoints: calPoints,\r\n        eachSpacing: eachSpacing\r\n    };\r\n}\r\n\r\nfunction drawMixDataPoints(series, opts, config, context) {\r\n    var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\r\n    var _calYAxisData6 = calYAxisData(series, opts, config),\r\n        ranges = _calYAxisData6.ranges;\r\n\r\n    var _getXAxisPoints6 = getXAxisPoints(opts.categories, opts, config),\r\n        xAxisPoints = _getXAxisPoints6.xAxisPoints,\r\n        eachSpacing = _getXAxisPoints6.eachSpacing;\r\n\r\n    var minRange = ranges.pop();\r\n    var maxRange = ranges.shift();\r\n\tvar endY = opts.height - config.padding - config.xAxisHeight - config.legendHeight;\r\n    var calPoints = [];\r\n\t\r\n\tvar columnIndex=0;\r\n\tvar columnLength=0;\r\n\tseries.forEach(function (eachSeries, seriesIndex) {\r\n\t\tif(eachSeries.type=='column'){\r\n\t\t\tcolumnLength+=1;\r\n\t\t}\r\n\t});\r\n    context.save();\r\n    if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n        context.translate(opts._scrollDistance_, 0);\r\n    }\r\n\r\n    if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n        drawToolTipSplitLine(opts.tooltip.offset.x, opts, config, context);\r\n    }\r\n\r\n    series.forEach(function (eachSeries, seriesIndex) {\r\n        var data = eachSeries.data;\r\n        var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n        calPoints.push(points);\r\n        \r\n\t\t// 绘制柱状数据图\r\n\t\tif(eachSeries.type=='column'){\r\n\t\t\tpoints = fixColumeData(points, eachSpacing, columnLength , columnIndex, config, opts);\r\n\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t    if (item !== null) {\r\n\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\tcontext.setFillStyle(item.color || eachSeries.color);\r\n\t\t\t        var startX = item.x - item.width / 2 + 1;\r\n\t\t\t        var height = opts.height - item.y - config.padding - config.xAxisHeight - config.legendHeight;\r\n\t\t\t        context.moveTo(startX, item.y);\r\n\t\t\t        context.rect(startX, item.y, item.width - 2, height);\r\n\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t\tcolumnIndex+=1;\r\n\t\t}\r\n\t\t\r\n\t\t//绘制区域图数据\r\n\t\t\r\n\t\tif(eachSeries.type=='area'){\r\n\t\t\tvar splitPointList = splitPoints(points);\r\n\t\t\tsplitPointList.forEach(function (points) {\r\n\t\t\t\t// 绘制区域数据\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\t\t\tcontext.setFillStyle(eachSeries.color);\r\n\t\t\t\tcontext.setGlobalAlpha(0.2);\r\n\t\t\t\tcontext.setLineWidth(2*opts.pixelRatio);\r\n\t\t\t\tif (points.length > 1) {\r\n\t\t\t\t\tvar firstPoint = points[0];\r\n\t\t\t\t\tvar lastPoint = points[points.length - 1];\r\n\t\t\t\t\tcontext.moveTo(firstPoint.x, firstPoint.y);\r\n\t\t\t\t\tif (eachSeries.style === 'curve') {\r\n\t\t\t\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\tvar ctrlPoint = createCurveControlPoints(points, index - 1);\r\n\t\t\t\t\t\t\t\tcontext.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\tcontext.lineTo(item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.lineTo(lastPoint.x, endY);\r\n\t\t\t\t\tcontext.lineTo(firstPoint.x, endY);\r\n\t\t\t\t\tcontext.lineTo(firstPoint.x, firstPoint.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar item = points[0];\r\n\t\t\t\t\tcontext.moveTo(item.x - eachSpacing / 2, item.y);\r\n\t\t\t\t\tcontext.lineTo(item.x + eachSpacing / 2, item.y);\r\n\t\t\t\t\tcontext.lineTo(item.x + eachSpacing / 2, endY);\r\n\t\t\t\t\tcontext.lineTo(item.x - eachSpacing / 2, endY);\r\n\t\t\t\t\tcontext.moveTo(item.x - eachSpacing / 2, item.y);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.fill();\r\n\t\t\t\tcontext.setGlobalAlpha(1);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t// 绘制折线数据图\r\n\t\tif(eachSeries.type=='line'){\r\n\t\t\tvar splitPointList = splitPoints(points);\r\n\t\t\tsplitPointList.forEach(function (points, index) {\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\t\t\tcontext.setLineWidth(2*opts.pixelRatio);\r\n\t\t\t\tif (points.length === 1) {\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t\tcontext.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t\tif (eachSeries.style=='curve') {\r\n\t\t\t\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\tvar ctrlPoint = createCurveControlPoints(points, index - 1);\r\n\t\t\t\t\t\t\t\tcontext.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpoints.forEach(function (item, index) {\r\n\t\t\t\t\t\t\tif (index > 0) {\r\n\t\t\t\t\t\t\t\tcontext.lineTo(item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// 绘制点数据图\r\n\t\tif(eachSeries.type=='point'){\r\n\t\t\tvar splitPointList = splitPoints(points);\r\n\t\t\tsplitPointList.forEach(function (points, index) {\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\t\t\tcontext.setLineWidth(2*opts.pixelRatio);\r\n\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\tcontext.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n        if (opts.dataPointShape !== false && eachSeries.type!=='column') {\r\n            var shape = config.dataPointShape[seriesIndex % config.dataPointShape.length];\r\n            drawPointShape(points, eachSeries.color, shape, context,opts);\r\n        }\r\n    });\r\n    if (opts.dataLabel !== false && process === 1) {\r\n\t\tvar columnIndex=0;\r\n        series.forEach(function (eachSeries, seriesIndex) {\r\n            var data = eachSeries.data;\r\n\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n\t\t\tif(eachSeries.type!=='column'){\r\n\t\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t\t}else{\r\n\t\t\t\tpoints = fixColumeData(points, eachSpacing, columnLength, columnIndex, config, opts);\r\n\t\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t\t\tcolumnIndex+=1;\r\n\t\t\t}\r\n            \r\n        });\r\n    }\r\n\r\n    context.restore();\r\n\r\n    return {\r\n        xAxisPoints: xAxisPoints,\r\n        calPoints: calPoints,\r\n        eachSpacing: eachSpacing\r\n    };\r\n}\r\n\r\nfunction drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints) {\r\n\tvar toolTipOption = opts.extra.tooltip || {};\r\n\tif(toolTipOption.horizentalLine && opts.tooltip && process === 1 && (opts.type=='line' || opts.type=='area' || opts.type=='column' || opts.type=='candle' || opts.type=='mix')){\r\n\t\tdrawToolTipHorizentalLine(opts, config, context, eachSpacing, xAxisPoints)\r\n\t}\r\n    context.save();\r\n    if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n        context.translate(opts._scrollDistance_, 0);\r\n    }\r\n    if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n        drawToolTip(opts.tooltip.textList, opts.tooltip.offset, opts, config, context, eachSpacing, xAxisPoints);\r\n    }\r\n    context.restore();\r\n\t\r\n}\r\n\r\nfunction drawXAxis(categories, opts, config, context) {\r\n\t\r\n    var _getXAxisPoints4 = getXAxisPoints(categories, opts, config),\r\n        xAxisPoints = _getXAxisPoints4.xAxisPoints,\r\n        startX = _getXAxisPoints4.startX,\r\n        endX = _getXAxisPoints4.endX,\r\n        eachSpacing = _getXAxisPoints4.eachSpacing;\r\n\r\n    var startY = opts.height - config.padding - config.xAxisHeight - config.legendHeight;\r\n    var endY = config.padding;\r\n\r\n\r\n\t//绘制滚动条\r\n\tif(opts.enableScroll && opts.xAxis.scrollShow){\r\n\t\tvar scrollY=opts.height - config.padding - config.legendHeight + 6*opts.pixelRatio;\r\n\t\tvar scrollScreenWidth=endX-startX;\r\n\t\tvar scrollTotalWidth=eachSpacing*(xAxisPoints.length-1);\r\n\t\tvar scrollWidth=scrollScreenWidth*scrollScreenWidth/scrollTotalWidth;\r\n\t\tvar scrollLeft=0;\r\n\t\tif (opts._scrollDistance_){\r\n\t\t\tscrollLeft=-opts._scrollDistance_*(scrollScreenWidth)/scrollTotalWidth;\r\n\t\t}\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setLineCap('round');\r\n\t\tcontext.setLineWidth(6*opts.pixelRatio);\r\n\t\tcontext.setStrokeStyle(opts.xAxis.scrollBackgroundColor || \"#EFEBEF\");\r\n\t\tcontext.moveTo(startX, scrollY);\r\n\t\tcontext.lineTo(endX, scrollY);\r\n\t\tcontext.stroke();\r\n\t\tcontext.closePath();\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setLineCap('round');\r\n\t\tcontext.setLineWidth(6*opts.pixelRatio);\r\n\t\tcontext.setStrokeStyle(opts.xAxis.scrollColor ||\"#A6A6A6\");\r\n\t\tcontext.moveTo(startX+scrollLeft, scrollY);\r\n\t\tcontext.lineTo(startX+scrollLeft+scrollWidth, scrollY);\r\n\t\tcontext.stroke();\r\n\t\tcontext.setLineCap('butt');\r\n\t\tcontext.closePath();\r\n\t}\r\n\t\r\n    context.save();\r\n\t\r\n    if (opts._scrollDistance_ && opts._scrollDistance_ !== 0) {\r\n        context.translate(opts._scrollDistance_, 0);\r\n    }\r\n\r\n    context.beginPath();\r\n    context.setStrokeStyle(opts.xAxis.gridColor || \"#cccccc\");\r\n\tcontext.setLineCap('butt');\r\n\tcontext.setLineWidth(1*opts.pixelRatio);\r\n\tif(opts.xAxis.gridType=='dash'){\r\n\t\tcontext.setLineDash([opts.xAxis.dashLength,opts.xAxis.dashLength]);\r\n\t}\r\n    if (opts.xAxis.disableGrid !== true) {\r\n        if (opts.xAxis.type === 'calibration') {\r\n            xAxisPoints.forEach(function (item, index) {\r\n                if (index > 0) {\r\n                    context.moveTo(item - eachSpacing / 2, startY);\r\n                    context.lineTo(item - eachSpacing / 2, startY + 4*opts.pixelRatio);\r\n                }\r\n            });\r\n        } else {\r\n            xAxisPoints.forEach(function (item, index) {\r\n                context.moveTo(item, startY);\r\n                context.lineTo(item, endY);\r\n            });\r\n        }\r\n    }\r\n    context.closePath();\r\n    context.stroke();\r\n\tcontext.setLineDash([]);\r\n\r\n\t//不绘制X轴\r\n\tif (opts.xAxis.disabled !== true) {\r\n\t\t// 对X轴列表做抽稀处理\r\n\t\tvar validWidth = opts.width - 2 * config.padding - config.yAxisWidth - config.yAxisTitleWidth;\r\n\t\tvar maxXAxisListLength = Math.min(categories.length, Math.ceil(validWidth / config.fontSize / 1.5));\r\n\t\tvar ratio = Math.ceil(categories.length / maxXAxisListLength);\r\n\t\tcategories = categories.map(function (item, index) {\r\n\t\t\treturn index % ratio !== 0 ? '' : item;\r\n\t\t});\r\n\r\n\t\tif (config._xAxisTextAngle_ === 0) {\r\n\t\t\tcategories.forEach(function (item, index) {\r\n\t\t\t\tvar offset = eachSpacing / 2 - measureText(item) / 2;\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setFontSize(config.fontSize);\r\n\t\t\t\tcontext.setFillStyle(opts.xAxis.fontColor || '#666666');\r\n\t\t\t\tcontext.fillText(item, xAxisPoints[index] + offset, startY + config.fontSize + 5);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t});\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tcategories.forEach(function (item, index) {\r\n\t\t\t\tcontext.save();\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setFontSize(config.fontSize);\r\n\t\t\t\tcontext.setFillStyle(opts.xAxis.fontColor || '#666666');\r\n\t\t\t\tvar textWidth = measureText(item);\r\n\t\t\t\tvar offset = eachSpacing / 2 - textWidth;\r\n\r\n\t\t\t\tvar _calRotateTranslate = calRotateTranslate(xAxisPoints[index] + eachSpacing / 2, startY + config.fontSize / 2 + 5, opts.height),\r\n\t\t\t\t\ttransX = _calRotateTranslate.transX,\r\n\t\t\t\t\ttransY = _calRotateTranslate.transY;\r\n\r\n\t\t\t\tcontext.rotate(-1 * config._xAxisTextAngle_);\r\n\t\t\t\tcontext.translate(transX, transY);\r\n\t\t\t\tcontext.fillText(item, xAxisPoints[index] + offset, startY + config.fontSize + 5);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t\tcontext.restore();\r\n\t\t\t});\r\n\t\t}\r\n\t}\t\r\n    context.restore();\r\n\r\n}\r\n\r\nfunction drawYAxisGrid(categories,opts, config, context) {\r\n\tif (opts.yAxis.disableGrid === true) {\r\n        return;\r\n    }\r\n    var spacingValid = opts.height - 2 * config.padding - config.xAxisHeight - config.legendHeight;\r\n    var eachSpacing = Math.floor(spacingValid / config.yAxisSplit);\r\n    var yAxisTotalWidth = config.yAxisWidth + config.yAxisTitleWidth;\r\n    var startX = config.padding + yAxisTotalWidth;\r\n\tvar _getXAxisPoints4 = getXAxisPoints(categories, opts, config),\r\n\t    xAxisPoints = _getXAxisPoints4.xAxisPoints,\r\n\t    xAxiseachSpacing = _getXAxisPoints4.eachSpacing;\r\n\tvar TotalWidth=xAxiseachSpacing*(xAxisPoints.length-1);\r\n\tvar endX = startX+TotalWidth;\r\n\t\r\n    var points = [];\r\n    for (var i = 0; i < config.yAxisSplit; i++) {\r\n        points.push(config.padding + eachSpacing * i);\r\n    }\r\n    points.push(config.padding + eachSpacing * config.yAxisSplit + 2);\r\n\r\n\tcontext.save();\r\n    if (opts._scrollDistance_ && opts._scrollDistance_ !== 0) {\r\n        context.translate(opts._scrollDistance_, 0);\r\n    }\r\n\t\r\n\tif(opts.yAxis.gridType=='dash'){\r\n\t\tcontext.setLineDash([opts.yAxis.dashLength,opts.yAxis.dashLength]);\r\n\t}\r\n    context.beginPath();\r\n    context.setStrokeStyle(opts.yAxis.gridColor || \"#cccccc\");\r\n\t\r\n    context.setLineWidth(1*opts.pixelRatio);\r\n    points.forEach(function (item, index) {\r\n        context.moveTo(startX, item);\r\n        context.lineTo(endX, item);\r\n    });\r\n    context.closePath();\r\n    context.stroke();\r\n\tcontext.setLineDash([]);\r\n\t\r\n\tcontext.restore();\r\n}\r\n\r\nfunction drawYAxis(series, opts, config, context) {\r\n    if (opts.yAxis.disabled === true) {\r\n        return;\r\n    }\r\n\r\n    var _calYAxisData4 = calYAxisData(series, opts, config),\r\n        rangesFormat = _calYAxisData4.rangesFormat;\r\n\r\n    var yAxisTotalWidth = config.yAxisWidth + config.yAxisTitleWidth;\r\n\r\n    var spacingValid = opts.height - 2 * config.padding - config.xAxisHeight - config.legendHeight;\r\n    var eachSpacing = Math.floor(spacingValid / config.yAxisSplit);\r\n    var startX = config.padding + yAxisTotalWidth;\r\n    var endX = opts.width - config.padding;\r\n    var endY = opts.height - config.padding - config.xAxisHeight - config.legendHeight+config.xAxisTextPadding;\r\n\r\n    // set YAxis background\r\n\tcontext.beginPath();\r\n    context.setFillStyle(opts.background || '#ffffff');\r\n    if (opts._scrollDistance_ < 0) {\r\n        context.fillRect(0, 0, startX, endY + config.xAxisHeight );\r\n    }\r\n    context.fillRect(endX, 0, opts.width, endY + config.xAxisHeight );\r\n\tcontext.closePath();\r\n\tcontext.stroke();\r\n\r\n    var points = [];\r\n    for (var i = 0; i <= config.yAxisSplit; i++) {\r\n        points.push(config.padding + eachSpacing * i);\r\n    }\r\n    \r\n    \r\n    rangesFormat.forEach(function (item, index) {\r\n        var pos = points[index] ? points[index] : endY;\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.setFillStyle(opts.yAxis.fontColor || '#666666');\r\n        context.fillText(item, config.padding + config.yAxisTitleWidth, pos + config.fontSize / 2);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n    });\r\n    \r\n\r\n    if (opts.yAxis.title) {\r\n        drawYAxisTitle(opts.yAxis.title, opts, config, context);\r\n    }\r\n}\r\n\r\nfunction drawLegend(series, opts, config, context) {\r\n    if (opts.legend===false) {\r\n        return;\r\n    }\r\n    // each legend shape width 15px\r\n    // the spacing between shape and text in each legend is the `padding`\r\n    // each legend spacing is the `padding`\r\n    // legend margin top `config.padding`\r\n\r\n    var _calLegendData = calLegendData(series, opts, config),\r\n        legendList = _calLegendData.legendList;\r\n\r\n    var padding = 5*opts.pixelRatio;\r\n    var marginTop = 10*opts.pixelRatio;\r\n    var shapeWidth = 15*opts.pixelRatio;\r\n    legendList.forEach(function (itemList, listIndex) {\r\n        var width = 0;\r\n        itemList.forEach(function (item) {\r\n            item.name = item.name || 'undefined';\r\n            width += 3 * padding + measureText(item.name) + shapeWidth;\r\n        });\r\n        var startX = (opts.width - width) / 2 + padding;\r\n        var startY = opts.height - config.padding - config.legendHeight + listIndex * (config.fontSize + marginTop) + padding + marginTop;\r\n\r\n        context.setFontSize(config.fontSize);\r\n        itemList.forEach(function (item) {\r\n            switch (opts.type) {\r\n                case 'line':\r\n                    context.beginPath();\r\n                    context.setLineWidth(1*opts.pixelRatio);\r\n                    context.setStrokeStyle(item.color);\r\n                    context.setFillStyle(item.color);\r\n                    context.moveTo(startX + 7.5*opts.pixelRatio, startY + 5*opts.pixelRatio);\r\n                    context.arc(startX + 7.5*opts.pixelRatio, startY + 5*opts.pixelRatio, 6*opts.pixelRatio, 0, 2 * Math.PI);\r\n                    context.closePath();\r\n                    context.fill();\r\n                    context.stroke();\r\n                    break;\r\n                case 'pie':\r\n\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\tcontext.setLineWidth(1*opts.pixelRatio);\r\n\t\t\t\t\tcontext.setStrokeStyle(item.color);\r\n\t\t\t\t\tcontext.setFillStyle(item.color);\r\n\t\t\t\t\tcontext.moveTo(startX + 7.5*opts.pixelRatio, startY + 5*opts.pixelRatio);\r\n\t\t\t\t\tcontext.arc(startX + 7.5*opts.pixelRatio, startY + 5*opts.pixelRatio, 6*opts.pixelRatio, 0, 2 * Math.PI);\r\n\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\tcontext.stroke();\r\n\t\t\t\t\tbreak;\r\n                case 'ring':\r\n                    context.beginPath();\r\n                    context.setLineWidth(1*opts.pixelRatio);\r\n                    context.setStrokeStyle(item.color);\r\n                    context.setFillStyle(item.color);\r\n                    context.moveTo(startX + 7.5*opts.pixelRatio, startY + 5*opts.pixelRatio);\r\n                    context.arc(startX + 7.5*opts.pixelRatio, startY + 5*opts.pixelRatio, 6*opts.pixelRatio, 0, 2 * Math.PI);\r\n                    context.closePath();\r\n                    context.fill();\r\n                    context.stroke();\r\n                    break;\r\n\t\t\t\t//圆弧进度图不显示图例\r\n\t\t\t\tcase 'gauge':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'arcbar':\r\n\t\t\t\t\tbreak;\r\n                default:\r\n                    context.beginPath();\r\n\t\t\t\t\tcontext.setLineWidth(1*opts.pixelRatio);\r\n\t\t\t\t\tcontext.setStrokeStyle(item.color);\r\n                    context.setFillStyle(item.color);\r\n                    context.moveTo(startX, startY);\r\n                    context.fillRect(startX, startY, 15*opts.pixelRatio, 10*opts.pixelRatio);\r\n                    context.closePath();\r\n                    context.fill();\r\n                    context.stroke();\r\n            }\r\n            startX += padding + shapeWidth;\r\n            context.beginPath();\r\n\t\t\tcontext.setFontSize(config.fontSize);\r\n            context.setFillStyle(opts.extra.legendTextColor || '#333333');\r\n            context.fillText(item.name, startX, startY + 6*opts.pixelRatio+3*opts.pixelRatio);\r\n            context.closePath();\r\n            context.stroke();\r\n            startX += measureText(item.name) + 2 * padding;\r\n        });\r\n    });\r\n}\r\n\r\nfunction drawPieDataPoints(series, opts, config, context) {\r\n    var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\r\n    var pieOption = opts.extra.pie || {};\r\n    series = getPieDataPoints(series, process);\r\n    var centerPosition = {\r\n        x: opts.width / 2,\r\n        y: (opts.height - config.legendHeight) / 2\r\n    };\r\n    var radius = Math.min(centerPosition.x - config.pieChartLinePadding - config.pieChartTextPadding - config._pieTextMaxLength_, centerPosition.y - config.pieChartLinePadding - config.pieChartTextPadding);\r\n    if (opts.dataLabel) {\r\n        radius -= 10;\r\n    } else {\r\n        radius -= 2 * config.padding;\r\n    }\r\n\t\r\n\tvar activeRadius=radius+config.pieChartLinePadding/2;\r\n\t\r\n\t\r\n    series = series.map(function (eachSeries) {\r\n        eachSeries._start_ += (pieOption.offsetAngle || 0) * Math.PI / 180;\r\n        return eachSeries;\r\n    });\r\n    series.forEach(function (eachSeries,seriesIndex) {\r\n\t\tif(opts.tooltip){\r\n\t\t\tif(opts.tooltip.index==seriesIndex){\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setFillStyle(hexToRgb(eachSeries.color, opts.extra.pie.activeOpacity || 0.5));\r\n\t\t\t\tcontext.moveTo(centerPosition.x, centerPosition.y);\r\n\t\t\t\tcontext.arc(centerPosition.x, centerPosition.y, activeRadius, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._proportion_ * Math.PI);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.fill();\r\n\t\t\t}\r\n\t\t}\r\n        context.beginPath();\r\n        context.setLineWidth(2*opts.pixelRatio);\r\n\t\tcontext.lineJoin=\"round\";\r\n        context.setStrokeStyle('#ffffff');\r\n        context.setFillStyle(eachSeries.color);\r\n        context.moveTo(centerPosition.x, centerPosition.y);\r\n        context.arc(centerPosition.x, centerPosition.y, radius, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._proportion_ * Math.PI);\r\n        context.closePath();\r\n        context.fill();\r\n        if (opts.disablePieStroke !== true) {\r\n            context.stroke();\r\n        }\r\n    });\r\n\r\n    if (opts.type === 'ring') {\r\n        var innerPieWidth = radius * 0.6;\r\n        if (typeof opts.extra.pie.ringWidth === 'number' && opts.extra.pie.ringWidth > 0) {\r\n            innerPieWidth = Math.max(0, radius - opts.extra.pie.ringWidth);\r\n        }\r\n        context.beginPath();\r\n        context.setFillStyle(opts.background || '#ffffff');\r\n        context.moveTo(centerPosition.x, centerPosition.y);\r\n        context.arc(centerPosition.x, centerPosition.y, innerPieWidth, 0, 2 * Math.PI);\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n\r\n    if (opts.dataLabel !== false && process === 1) {\r\n        // fix https://github.com/xiaolin3303/wx-charts/issues/132\r\n        var valid = false;\r\n        for (var i = 0, len = series.length; i < len; i++) {\r\n            if (series[i].data > 0) {\r\n                valid = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (valid) {\r\n            drawPieText(series, opts, config, context, radius, centerPosition);\r\n        }\r\n    }\r\n\r\n    if (process === 1 && opts.type === 'ring') {\r\n        drawRingTitle(opts, config, context);\r\n    }\r\n\r\n    return {\r\n        center: centerPosition,\r\n        radius: radius,\r\n        series: series\r\n    };\r\n}\r\n\r\nfunction drawArcbarDataPoints(series, opts, config, context) {\r\n    var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\r\n    var arcbarOption = opts.extra.arcbar || {};\r\n\tarcbarOption.startAngle=arcbarOption.startAngle? arcbarOption.startAngle: 0.75;\r\n\tarcbarOption.endAngle=arcbarOption.endAngle? arcbarOption.endAngle : 0.25;\r\n\tarcbarOption.type=arcbarOption.type? arcbarOption.type : 'default';\r\n\t\r\n    series = getArcbarDataPoints(series, arcbarOption, process);\r\n    var centerPosition = {\r\n        x: opts.width / 2,\r\n        y: (opts.height) / 2\r\n    };\r\n    var radius = Math.min(centerPosition.x , centerPosition.y);\r\n   \r\n\tif (typeof arcbarOption.width === 'number' && arcbarOption.width > 0) {\r\n\t    arcbarOption.width=arcbarOption.width;\r\n\t}else{\r\n\t\tarcbarOption.width=12*opts.pixelRatio;\r\n\t}\r\n\tradius -= config.padding+arcbarOption.width/2;\r\n\t\r\n\t//背景颜色\r\n\tcontext.setLineWidth(arcbarOption.width); // 设置圆环的宽度\r\n\tcontext.setStrokeStyle(arcbarOption.backgroundColor || '#E9E9E9'); // 设置圆环的颜色\r\n\tcontext.setLineCap('round'); // 设置圆环端点的形状\r\n\tcontext.beginPath(); //开始一个新的路径\r\n\tif(arcbarOption.type=='default'){\r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, radius, arcbarOption.startAngle * Math.PI, arcbarOption.endAngle * Math.PI, false);\r\n\t}else{\r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, radius, 0, 2 * Math.PI, false);\r\n\t}\r\n\t\r\n\tcontext.stroke(); //对当前路径进行描边\r\n\t\t\r\n\t\t\t\r\n    series.forEach(function (eachSeries) {\r\n\t\tcontext.setLineWidth(arcbarOption.width);\r\n\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\tcontext.setLineCap('round');\r\n\t\tcontext.beginPath();\r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, radius, arcbarOption.startAngle * Math.PI, eachSeries._proportion_ * Math.PI, false);\r\n\t\tcontext.stroke();\r\n\t\t\r\n    });\r\n    drawRingTitle(opts, config, context);\r\n    return {\r\n        center: centerPosition,\r\n        radius: radius,\r\n        series: series\r\n    };\r\n}\r\n\r\nfunction drawGaugeDataPoints(categories,series, opts, config, context) {\r\n\tvar process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n\tvar gaugeOption = opts.extra.gauge || {};\r\n\tgaugeOption.startAngle=gaugeOption.startAngle? gaugeOption.startAngle: 0.75;\r\n\tif(gaugeOption.oldAngle==undefined){\r\n\t\tgaugeOption.oldAngle=gaugeOption.startAngle;\r\n\t}\r\n\tif(gaugeOption.oldData==undefined){\r\n\t\tgaugeOption.oldData=0;\r\n\t}\r\n\tgaugeOption.endAngle=gaugeOption.endAngle? gaugeOption.endAngle : 0.25;\r\n\tcategories = getGaugeAxisPoints(categories,gaugeOption.startAngle,gaugeOption.endAngle);\r\n\tvar centerPosition = {\r\n\t    x: opts.width / 2,\r\n\t    y: (opts.height) / 2\r\n\t};\r\n\tvar radius = Math.min(centerPosition.x , centerPosition.y);\r\n\tif (typeof gaugeOption.width === 'number' && gaugeOption.width > 0) {\r\n\t    gaugeOption.width=gaugeOption.width;\r\n\t}else{\r\n\t\tgaugeOption.width=15*opts.pixelRatio;\r\n\t}\r\n\tradius -= config.padding+gaugeOption.width/2;\r\n\tvar innerRadius = radius-gaugeOption.width;\r\n\t\r\n\t\r\n\t\r\n\t//画背景\r\n\tcontext.setLineWidth(gaugeOption.width);\r\n\tcontext.setLineCap('butt'); \r\n\tcategories.forEach(function (eachCategories) {\r\n\t\tcontext.beginPath(); \r\n\t\tcontext.setStrokeStyle(eachCategories.color); \r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, radius, eachCategories._startAngle_ * Math.PI, eachCategories._endAngle_ * Math.PI, false);\r\n\t\tcontext.stroke(); \r\n\t});\r\n\tcontext.save();\r\n\t\r\n\t//画刻度线\r\n\tlet totalAngle=gaugeOption.startAngle-gaugeOption.endAngle+1;\r\n\tgaugeOption.splitLine.fixRadius=gaugeOption.splitLine.fixRadius? gaugeOption.splitLine.fixRadius : 0;\r\n\tgaugeOption.splitLine.splitNumber=gaugeOption.splitLine.splitNumber? gaugeOption.splitLine.splitNumber : 10;\r\n\tgaugeOption.splitLine.width=gaugeOption.splitLine.width? gaugeOption.splitLine.width : 15*opts.pixelRatio ;\r\n\tgaugeOption.splitLine.color=gaugeOption.splitLine.color? gaugeOption.splitLine.color : '#FFFFFF';\r\n\tgaugeOption.splitLine.childNumber=gaugeOption.splitLine.childNumber? gaugeOption.splitLine.childNumber : 5;\r\n\tgaugeOption.splitLine.childWidth=gaugeOption.splitLine.childWidth? gaugeOption.splitLine.childWidth : 5*opts.pixelRatio;\r\n\t\r\n\tlet splitAngle=totalAngle/gaugeOption.splitLine.splitNumber;\r\n\tlet childAngle=totalAngle/gaugeOption.splitLine.splitNumber/gaugeOption.splitLine.childNumber;\r\n\tlet startX=-radius-gaugeOption.width*0.5-gaugeOption.splitLine.fixRadius;\r\n\tlet endX=-radius-gaugeOption.width*0.5-gaugeOption.splitLine.fixRadius+gaugeOption.splitLine.width;\r\n\tlet childendX=-radius-gaugeOption.width*0.5-gaugeOption.splitLine.fixRadius+gaugeOption.splitLine.childWidth;\r\n\t\r\n\tcontext.translate(centerPosition.x, centerPosition.y);\r\n\tcontext.rotate((gaugeOption.startAngle-1)* Math.PI);\r\n\t\r\n\tfor(let i=0 ; i< gaugeOption.splitLine.splitNumber+1; i++){\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setStrokeStyle(gaugeOption.splitLine.color);\r\n\t\tcontext.setLineWidth(2*opts.pixelRatio);\r\n\t\tcontext.moveTo(startX, 0);\r\n\t\tcontext.lineTo(endX, 0);\r\n\t\tcontext.stroke();\r\n\t\tcontext.rotate(splitAngle* Math.PI);\r\n\t}\r\n\tcontext.restore();\r\n\t\r\n\tcontext.save();\r\n\tcontext.translate(centerPosition.x, centerPosition.y);\r\n\tcontext.rotate((gaugeOption.startAngle-1)* Math.PI);\r\n\t\r\n\tfor(let i=0 ; i< gaugeOption.splitLine.splitNumber*gaugeOption.splitLine.childNumber+1; i++){\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setStrokeStyle(gaugeOption.splitLine.color);\r\n\t\tcontext.setLineWidth(1*opts.pixelRatio);\r\n\t\tcontext.moveTo(startX, 0);\r\n\t\tcontext.lineTo(childendX, 0);\r\n\t\tcontext.stroke();\r\n\t\tcontext.rotate(childAngle* Math.PI);\r\n\t}\r\n\tcontext.restore();\r\n\t\r\n\t//画指针\r\n\tgaugeOption.pointer.width=gaugeOption.pointer.width? gaugeOption.pointer.width : 15*opts.pixelRatio;\r\n\tif (gaugeOption.pointer.color == undefined || gaugeOption.pointer.color == 'auto') {\r\n\t    gaugeOption.pointer.color == 'auto';\r\n\t}else{\r\n\t\tgaugeOption.pointer.color == gaugeOption.pointer.color;\r\n\t}\r\n\tseries = getGaugeDataPoints(series,categories,gaugeOption, process);\r\n\t\r\n\tseries.forEach(function (eachSeries) {\r\n\t\tcontext.save();\r\n\t\tcontext.translate(centerPosition.x, centerPosition.y);\r\n\t\tcontext.rotate((eachSeries._proportion_-1)* Math.PI);\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFillStyle(eachSeries.color);\r\n\t\tcontext.moveTo(gaugeOption.pointer.width, 0);\r\n\t\tcontext.lineTo(0,-gaugeOption.pointer.width/2);\r\n\t\tcontext.lineTo(-innerRadius,0);\r\n\t\tcontext.lineTo(0,gaugeOption.pointer.width/2);\r\n\t\tcontext.lineTo(gaugeOption.pointer.width,0);\r\n\t\tcontext.closePath();\r\n\t\tcontext.fill();\r\n\t\tcontext.beginPath(); \r\n\t\tcontext.setFillStyle('#FFFFFF');\r\n\t\tcontext.arc(0, 0, gaugeOption.pointer.width/6, 0,2* Math.PI, false);\r\n\t\tcontext.fill();\r\n\t\tcontext.restore();\r\n\t});\r\n\t\r\n\tif (opts.dataLabel !== false) {\r\n\t\tdrawGaugeLabel(gaugeOption, radius, centerPosition, opts, config, context);\r\n\t}\r\n\t\r\n\tdrawRingTitle(opts, config, context);\r\n\t\r\n\tif (process === 1 && opts.type === 'gauge') {\r\n\t\tgaugeOption.oldAngle=series[0]._proportion_;\r\n\t\tgaugeOption.oldData=series[0].data;\r\n\t}\r\n\treturn {\r\n\t    center: centerPosition,\r\n\t    radius: radius,\r\n\t\tinnerRadius:innerRadius,\r\n\t    categories: categories,\r\n\t\ttotalAngle:totalAngle\r\n\t};\r\n}\r\n\r\nfunction drawRadarDataPoints(series, opts, config, context) {\r\n    var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\r\n    var radarOption = opts.extra.radar || {};\r\n    var coordinateAngle = getRadarCoordinateSeries(opts.categories.length);\r\n    var centerPosition = {\r\n        x: opts.width / 2,\r\n        y: (opts.height - config.legendHeight) / 2\r\n    };\r\n\r\n    var radius = Math.min(centerPosition.x - (getMaxTextListLength(opts.categories) + config.radarLabelTextMargin), centerPosition.y - config.radarLabelTextMargin);\r\n\r\n    radius -= config.padding;\r\n\r\n    // draw grid\r\n    context.beginPath();\r\n    context.setLineWidth(1*opts.pixelRatio);\r\n    context.setStrokeStyle(radarOption.gridColor || \"#cccccc\");\r\n    coordinateAngle.forEach(function (angle) {\r\n        var pos = convertCoordinateOrigin(radius * Math.cos(angle), radius * Math.sin(angle), centerPosition);\r\n        context.moveTo(centerPosition.x, centerPosition.y);\r\n        context.lineTo(pos.x, pos.y);\r\n    });\r\n    context.stroke();\r\n    context.closePath();\r\n\r\n    // draw split line grid\r\n\r\n    var _loop = function _loop(i) {\r\n        var startPos = {};\r\n        context.beginPath();\r\n        context.setLineWidth(1*opts.pixelRatio);\r\n        context.setStrokeStyle(radarOption.gridColor || \"#cccccc\");\r\n        coordinateAngle.forEach(function (angle, index) {\r\n            var pos = convertCoordinateOrigin(radius / config.radarGridCount * i * Math.cos(angle), radius / config.radarGridCount * i * Math.sin(angle), centerPosition);\r\n            if (index === 0) {\r\n                startPos = pos;\r\n                context.moveTo(pos.x, pos.y);\r\n            } else {\r\n                context.lineTo(pos.x, pos.y);\r\n            }\r\n        });\r\n        context.lineTo(startPos.x, startPos.y);\r\n        context.stroke();\r\n        context.closePath();\r\n    };\r\n\r\n    for (var i = 1; i <= config.radarGridCount; i++) {\r\n        _loop(i);\r\n    }\r\n\r\n    var radarDataPoints = getRadarDataPoints(coordinateAngle, centerPosition, radius, series, opts, process);\r\n\t\r\n    radarDataPoints.forEach(function (eachSeries, seriesIndex) {\r\n        // 绘制区域数据\r\n        context.beginPath();\r\n        context.setFillStyle(eachSeries.color);\r\n        context.setGlobalAlpha(0.3);\r\n        eachSeries.data.forEach(function (item, index) {\r\n            if (index === 0) {\r\n                context.moveTo(item.position.x, item.position.y);\r\n            } else {\r\n                context.lineTo(item.position.x, item.position.y);\r\n            }\r\n        });\r\n        context.closePath();\r\n        context.fill();\r\n        context.setGlobalAlpha(1);\r\n\r\n        if (opts.dataPointShape !== false) {\r\n            var shape = config.dataPointShape[seriesIndex % config.dataPointShape.length];\r\n            var points = eachSeries.data.map(function (item) {\r\n                return item.position;\r\n            });\r\n            drawPointShape(points, eachSeries.color, shape, context,opts);\r\n        }\r\n    });\r\n    // draw label text\r\n    drawRadarLabel(coordinateAngle, radius, centerPosition, opts, config, context);\r\n\r\n    return {\r\n        center: centerPosition,\r\n        radius: radius,\r\n        angleList: coordinateAngle\r\n    };\r\n}\r\n\r\nfunction drawCanvas(opts, context) {\r\n    context.draw();\r\n}\r\n\r\nvar Timing = {\r\n    easeIn: function easeIn(pos) {\r\n        return Math.pow(pos, 3);\r\n    },\r\n\r\n    easeOut: function easeOut(pos) {\r\n        return Math.pow(pos - 1, 3) + 1;\r\n    },\r\n\r\n    easeInOut: function easeInOut(pos) {\r\n        if ((pos /= 0.5) < 1) {\r\n            return 0.5 * Math.pow(pos, 3);\r\n        } else {\r\n            return 0.5 * (Math.pow(pos - 2, 3) + 2);\r\n        }\r\n    },\r\n\r\n    linear: function linear(pos) {\r\n        return pos;\r\n    }\r\n};\r\n\r\nfunction Animation(opts) {\r\n    this.isStop = false;\r\n    opts.duration = typeof opts.duration === 'undefined' ? 1000 : opts.duration;\r\n    opts.timing = opts.timing || 'linear';\r\n\r\n    var delay = 17;\r\n\r\n    var createAnimationFrame = function createAnimationFrame() {\r\n\t\t\r\n        if (typeof requestAnimationFrame !== 'undefined') {\r\n\t\t\treturn requestAnimationFrame;\r\n        } else if (typeof setTimeout !== 'undefined') {\r\n\t\t\t\r\n            return function (step, delay) {\r\n                setTimeout(function () {\r\n                    var timeStamp = +new Date();\r\n                    step(timeStamp);\r\n                }, delay);\r\n            };\r\n        } else {\r\n\t\t\t\r\n            return function (step) {\r\n                step(null);\r\n            };\r\n        }\r\n    };\r\n    var animationFrame = createAnimationFrame();\r\n    var startTimeStamp = null;\r\n\t\r\n    var _step = function step(timestamp) {\r\n\t\t\r\n        if (timestamp === null || this.isStop === true) {\r\n            opts.onProcess && opts.onProcess(1);\r\n            opts.onAnimationFinish && opts.onAnimationFinish();\r\n            return;\r\n        }\r\n        if (startTimeStamp === null) {\r\n            startTimeStamp = timestamp;\r\n        }\r\n        if (timestamp - startTimeStamp < opts.duration) {\r\n            var process = (timestamp - startTimeStamp) / opts.duration;\r\n            var timingFunction = Timing[opts.timing];\r\n            process = timingFunction(process);\r\n\t\t\t\r\n            opts.onProcess && opts.onProcess(process);\r\n            animationFrame(_step, delay);\r\n        } else {\r\n            opts.onProcess && opts.onProcess(1);\r\n            opts.onAnimationFinish && opts.onAnimationFinish();\r\n        }\r\n    };\r\n    _step = _step.bind(this);\r\n    animationFrame(_step, delay);\r\n}\r\n\r\n// stop animation immediately\r\n// and tigger onAnimationFinish\r\nAnimation.prototype.stop = function () {\r\n    this.isStop = true;\r\n};\r\n\r\nfunction drawCharts(type, opts, config, context) {\r\n    var _this = this;\r\n\r\n    var series = opts.series;\r\n    var categories = opts.categories;\r\n    series = fillSeriesColor(series, config);\r\n\tseries = fillSeriesType(series, opts);\r\n\t\r\n    var _calLegendData = calLegendData(series, opts, config),\r\n        legendHeight = _calLegendData.legendHeight;\r\n\r\n    config.legendHeight = legendHeight;\r\n\r\n    var _calYAxisData = calYAxisData(series, opts, config),\r\n        yAxisWidth = _calYAxisData.yAxisWidth;\r\n\r\n    config.yAxisWidth = yAxisWidth;\r\n    if (categories && categories.length) {\r\n        var _calCategoriesData = calCategoriesData(categories, opts, config),\r\n            xAxisHeight = _calCategoriesData.xAxisHeight,\r\n            angle = _calCategoriesData.angle;\r\n\r\n        config.xAxisHeight = xAxisHeight;\r\n        config._xAxisTextAngle_ = angle;\r\n    }\r\n    if (type === 'pie' || type === 'ring') {\r\n        config._pieTextMaxLength_ = opts.dataLabel === false ? 0 : getPieTextMaxLength(series);\r\n    }\r\n\r\n    var duration = opts.animation ? 1000 : 0;\r\n    this.animationInstance && this.animationInstance.stop();\r\n\t\r\n\t//先清空画布,不然百度和支付宝ToolTip有重影\r\n\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\r\n\t\r\n    switch (type) {\r\n        case 'line':\r\n            this.animationInstance = new Animation({\r\n                timing: 'easeIn',\r\n                duration: duration,\r\n                onProcess: function onProcess(process) {\r\n\t\t\t\t\tif(opts.rotate){\r\n\t\t\t\t\t\tcontextRotate(context,opts);\r\n\t\t\t\t\t}\r\n                    drawYAxisGrid(categories,opts, config, context);\r\n                    drawXAxis(categories, opts, config, context);\r\n                    var _drawLineDataPoints = drawLineDataPoints(series, opts, config, context, process),\r\n                        xAxisPoints = _drawLineDataPoints.xAxisPoints,\r\n                        calPoints = _drawLineDataPoints.calPoints,\r\n                        eachSpacing = _drawLineDataPoints.eachSpacing;\r\n\r\n                    _this.chartData.xAxisPoints = xAxisPoints;\r\n                    _this.chartData.calPoints = calPoints;\r\n                    _this.chartData.eachSpacing = eachSpacing;\r\n                    drawLegend(opts.series, opts, config, context);\r\n                    drawYAxis(series, opts, config, context);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n                    drawCanvas(opts, context);\r\n\t\t\t\t\t\r\n                },\r\n                onAnimationFinish: function onAnimationFinish() {\r\n                    _this.event.trigger('renderComplete');\r\n                }\r\n            });\r\n\t\t\t\r\n            break;\r\n\t\tcase 'mix':\r\n\t\t    this.animationInstance = new Animation({\r\n\t\t        timing: 'easeIn',\r\n\t\t        duration: duration,\r\n\t\t        onProcess: function onProcess(process) {\r\n\t\t\t\t\tif(opts.rotate){\r\n\t\t\t\t\t\tcontextRotate(context,opts);\r\n\t\t\t\t\t}\r\n\t\t            drawYAxisGrid(categories,opts, config, context);\r\n\t\t            drawXAxis(categories, opts, config, context);\r\n\t\t            var _drawMixDataPoints = drawMixDataPoints(series, opts, config, context, process),\r\n\t\t                xAxisPoints = _drawMixDataPoints.xAxisPoints,\r\n\t\t                calPoints = _drawMixDataPoints.calPoints,\r\n\t\t                eachSpacing = _drawMixDataPoints.eachSpacing;\r\n\t\t\r\n\t\t            _this.chartData.xAxisPoints = xAxisPoints;\r\n\t\t            _this.chartData.calPoints = calPoints;\r\n\t\t            _this.chartData.eachSpacing = eachSpacing;\r\n\t\t            drawLegend(opts.series, opts, config, context);\r\n\t\t            drawYAxis(series, opts, config, context);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n\t\t            drawCanvas(opts, context);\r\n\t\t        },\r\n\t\t        onAnimationFinish: function onAnimationFinish() {\r\n\t\t            _this.event.trigger('renderComplete');\r\n\t\t        }\r\n\t\t    });\r\n\t\t\t\r\n\t\t    break;\r\n        case 'column':\r\n\t\t    this.animationInstance = new Animation({\r\n                timing: 'easeIn',\r\n                duration: duration,\r\n                onProcess: function onProcess(process) {\r\n\t\t\t\t\tif(opts.rotate){\r\n\t\t\t\t\t\tcontextRotate(context,opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawYAxisGrid(categories,opts, config, context);\r\n                    drawXAxis(categories, opts, config, context);\r\n                    var _drawColumnDataPoints = drawColumnDataPoints(series, opts, config, context, process),\r\n                        xAxisPoints = _drawColumnDataPoints.xAxisPoints,\r\n\t\t\t\t\t\tcalPoints = _drawColumnDataPoints.calPoints,\r\n                        eachSpacing = _drawColumnDataPoints.eachSpacing;\r\n                    _this.chartData.xAxisPoints = xAxisPoints;\r\n\t\t\t\t\t_this.chartData.calPoints = calPoints;\r\n                    _this.chartData.eachSpacing = eachSpacing;\r\n                    drawLegend(opts.series, opts, config, context);\r\n                    drawYAxis(series, opts, config, context);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n                    drawCanvas(opts, context);\r\n                },\r\n                onAnimationFinish: function onAnimationFinish() {\r\n                    _this.event.trigger('renderComplete');\r\n                }\r\n            });\r\n            break;\r\n        case 'area':\r\n            this.animationInstance = new Animation({\r\n                timing: 'easeIn',\r\n                duration: duration,\r\n                onProcess: function onProcess(process) {\r\n\t\t\t\t\tif(opts.rotate){\r\n\t\t\t\t\t\tcontextRotate(context,opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawYAxisGrid(categories,opts, config, context);\r\n                    drawXAxis(categories, opts, config, context);\r\n                    var _drawAreaDataPoints = drawAreaDataPoints(series, opts, config, context, process),\r\n                        xAxisPoints = _drawAreaDataPoints.xAxisPoints,\r\n                        calPoints = _drawAreaDataPoints.calPoints,\r\n                        eachSpacing = _drawAreaDataPoints.eachSpacing;\r\n\r\n                    _this.chartData.xAxisPoints = xAxisPoints;\r\n                    _this.chartData.calPoints = calPoints;\r\n                    _this.chartData.eachSpacing = eachSpacing;\r\n                    drawLegend(opts.series, opts, config, context);\r\n                    drawYAxis(series, opts, config, context);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n                    \r\n                    drawCanvas(opts, context);\r\n                },\r\n                onAnimationFinish: function onAnimationFinish() {\r\n                    _this.event.trigger('renderComplete');\r\n                }\r\n            });\r\n            break;\r\n        case 'ring':\r\n        case 'pie':\r\n            this.animationInstance = new Animation({\r\n                timing: 'easeInOut',\r\n                duration: duration,\r\n                onProcess: function onProcess(process) {\r\n\t\t\t\t\tif(opts.rotate){\r\n\t\t\t\t\t\tcontextRotate(context,opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_this.chartData.pieData = drawPieDataPoints(series, opts, config, context, process);\r\n                    drawLegend(opts.series, opts, config, context);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process);\r\n                    drawCanvas(opts, context);\r\n                },\r\n                onAnimationFinish: function onAnimationFinish() {\r\n                    _this.event.trigger('renderComplete');\r\n                }\r\n            });\r\n            break;\r\n        case 'radar':\r\n            this.animationInstance = new Animation({\r\n                timing: 'easeInOut',\r\n                duration: duration,\r\n                onProcess: function onProcess(process) {\r\n\t\t\t\t\tif(opts.rotate){\r\n\t\t\t\t\t\tcontextRotate(context,opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_this.chartData.radarData = drawRadarDataPoints(series, opts, config, context, process);\r\n                    drawLegend(opts.series, opts, config, context);\r\n                    drawCanvas(opts, context);\r\n                },\r\n                onAnimationFinish: function onAnimationFinish() {\r\n                    _this.event.trigger('renderComplete');\r\n                }\r\n            });\r\n            break;\r\n\t\tcase 'arcbar':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t    timing: 'easeInOut',\r\n\t\t\t    duration: duration,\r\n\t\t\t    onProcess: function onProcess(process) {\r\n\t\t\t\t\tif(opts.rotate){\r\n\t\t\t\t\t\tcontextRotate(context,opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_this.chartData.arcbarData = drawArcbarDataPoints(series, opts, config, context, process);\r\n\t\t\t        drawCanvas(opts, context);\r\n\t\t\t    },\r\n\t\t\t    onAnimationFinish: function onAnimationFinish() {\r\n\t\t\t        _this.event.trigger('renderComplete');\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'gauge':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t    timing: 'easeInOut',\r\n\t\t\t    duration: duration,\r\n\t\t\t    onProcess: function onProcess(process) {\r\n\t\t\t\t\tif(opts.rotate){\r\n\t\t\t\t\t\tcontextRotate(context,opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_this.chartData.gaugeData = drawGaugeDataPoints(categories, series,opts, config, context, process);\r\n\t\t\t        drawCanvas(opts, context);\r\n\t\t\t    },\r\n\t\t\t    onAnimationFinish: function onAnimationFinish() {\r\n\t\t\t        _this.event.trigger('renderComplete');\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'candle':\r\n\t\t    this.animationInstance = new Animation({\r\n\t\t        timing: 'easeIn',\r\n\t\t        duration: duration,\r\n\t\t        onProcess: function onProcess(process) {\r\n\t\t\t\t\tif(opts.rotate){\r\n\t\t\t\t\t\tcontextRotate(context,opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawYAxisGrid(categories,opts, config, context);\r\n\t\t\t\t\tdrawXAxis(categories, opts, config, context);\r\n\t\t\t\t\tvar _drawCandleDataPoints = drawCandleDataPoints(series, opts, config, context, process),\r\n\t\t\t\t\t    xAxisPoints = _drawCandleDataPoints.xAxisPoints,\r\n\t\t\t\t\t    calPoints = _drawCandleDataPoints.calPoints,\r\n\t\t\t\t\t    eachSpacing = _drawCandleDataPoints.eachSpacing;\r\n\t\t\t\t\t\r\n\t\t\t\t\t_this.chartData.xAxisPoints = xAxisPoints;\r\n\t\t\t\t\t_this.chartData.calPoints = calPoints;\r\n\t\t\t\t\t_this.chartData.eachSpacing = eachSpacing;\r\n\t\t\t\t\tdrawLegend(opts.series, opts, config, context);\r\n\t\t\t\t\tdrawYAxis(series, opts, config, context);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t        },\r\n\t\t        onAnimationFinish: function onAnimationFinish() {\r\n\t\t            _this.event.trigger('renderComplete');\r\n\t\t        }\r\n\t\t    });\r\n\t\t    break;\r\n    }\r\n}\r\n\r\n// simple event implement\r\n\r\nfunction Event() {\r\n\tthis.events = {};\r\n}\r\n\r\nEvent.prototype.addEventListener = function (type, listener) {\r\n\tthis.events[type] = this.events[type] || [];\r\n\tthis.events[type].push(listener);\r\n};\r\n\r\nEvent.prototype.trigger = function () {\r\n\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n\t\targs[_key] = arguments[_key];\r\n\t}\r\n\r\n\tvar type = args[0];\r\n\tvar params = args.slice(1);\r\n\tif (!!this.events[type]) {\r\n\t\tthis.events[type].forEach(function (listener) {\r\n\t\t\ttry {\r\n\t\t\t\tlistener.apply(null, params);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\n\r\nvar Charts = function Charts(opts) {\r\n\topts.fontSize=opts.fontSize ? opts.fontSize*opts.pixelRatio : 13*opts.pixelRatio;\r\n    opts.title = opts.title || {};\r\n    opts.subtitle = opts.subtitle || {};\r\n    opts.yAxis = opts.yAxis || {};\r\n\topts.yAxis.gridType=opts.yAxis.gridType? opts.yAxis.gridType : 'solid';\r\n\topts.yAxis.dashLength=opts.yAxis.dashLength? opts.yAxis.dashLength : 4*opts.pixelRatio;\r\n    opts.xAxis = opts.xAxis || {};\r\n\topts.xAxis.rotateLabel = opts.xAxis.rotateLabel ? true : false;\r\n\topts.xAxis.type=opts.xAxis.type? opts.xAxis.type : 'calibration';\r\n\topts.xAxis.gridType=opts.xAxis.gridType? opts.xAxis.gridType : 'solid';\r\n\topts.xAxis.dashLength=opts.xAxis.dashLength? opts.xAxis.dashLength : 4*opts.pixelRatio;\r\n\topts.xAxis.itemCount = opts.xAxis.itemCount ? opts.xAxis.itemCount : 5;\r\n\topts.xAxis.scrollAlign = opts.xAxis.scrollAlign ? opts.xAxis.scrollAlign : 'left';\r\n    opts.extra = opts.extra || {};\r\n\t\r\n    opts.legend = opts.legend === false ? false : true;\r\n\topts.rotate = opts.rotate ? true : false;\r\n    opts.animation = opts.animation === false ? false : true;\r\n    var config$$1 = assign({}, config);\r\n    config$$1.yAxisTitleWidth = opts.yAxis.disabled !== true && opts.yAxis.title ? config$$1.yAxisTitleWidth : 0;\r\n    if(opts.type == 'pie' || opts.type == 'ring' ){\r\n    \t config$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.pie.lableWidth || config$$1.pieChartLinePadding*opts.pixelRatio;\r\n    }\r\n    config$$1.pieChartTextPadding = opts.dataLabel === false ? 0 : config$$1.pieChartTextPadding*opts.pixelRatio;\r\n\tconfig$$1.yAxisSplit = opts.yAxis.splitNumber? opts.yAxis.splitNumber : config.yAxisSplit;\r\n\t//屏幕旋转\r\n\tconfig$$1.rotate=opts.rotate;\r\n\tif(opts.rotate){\r\n\t\tlet tempWidth=opts.width;\r\n\t\tlet tempHeight=opts.height;\r\n\t\topts.width=tempHeight;\r\n\t\topts.height=tempWidth;\r\n\t}\r\n\t\r\n\t//适配H5高分屏\r\n\tconfig$$1.yAxisWidth=config.yAxisWidth*opts.pixelRatio;\r\n\tconfig$$1.xAxisHeight=config.xAxisHeight*opts.pixelRatio;\r\n\tif(opts.enableScroll && opts.xAxis.scrollShow){\r\n\t\tconfig$$1.xAxisHeight+=6*opts.pixelRatio;\r\n\t}\r\n\tconfig$$1.xAxisLineHeight=config.xAxisLineHeight*opts.pixelRatio;\r\n\tconfig$$1.legendHeight=config.legendHeight*opts.pixelRatio;\r\n\t//config$$1.yAxisTitleWidth=config.yAxisTitleWidth*opts.pixelRatio;\r\n\tconfig$$1.padding=config.padding*opts.pixelRatio;\r\n\tconfig$$1.fontSize=opts.fontSize;\r\n\tconfig$$1.titleFontSize=config.titleFontSize*opts.pixelRatio;\r\n\tconfig$$1.subtitleFontSize=config.subtitleFontSize*opts.pixelRatio;\r\n\tconfig$$1.toolTipPadding=config.toolTipPadding*opts.pixelRatio;\r\n\tconfig$$1.toolTipLineHeight=config.toolTipLineHeight*opts.pixelRatio;\r\n\tconfig$$1.columePadding=config.columePadding*opts.pixelRatio;\r\n\t//config$$1.xAxisTextPadding=config.xAxisTextPadding*opts.pixelRatio;\r\n\t\r\n\t//向配置中传入当前pixelRatio及字体大小\r\n\tconfig.pixelRatio=opts.pixelRatio;\r\n\tconfig.fontSize=opts.fontSize;\r\n\tconfig.rotate=opts.rotate;\r\n\t\r\n    this.opts = opts;\r\n    this.config = config$$1;\r\n\topts.$this = opts.$this? opts.$this : this;\r\n    this.context = uni.createCanvasContext(opts.canvasId, opts.$this);\r\n    // store calcuated chart data\r\n    // such as chart point coordinate\r\n    this.chartData = {};\r\n    this.event = new Event();\r\n\t\r\n    this.scrollOption = {\r\n        currentOffset: 0,\r\n        startTouchX: 0,\r\n        distance: 0\r\n    };\r\n\t\r\n\t//计算右对齐偏移距离\r\n\tif(opts.enableScroll && opts.xAxis.scrollAlign=='right'){\r\n\t\tlet _calYAxisData = calYAxisData(opts.series, opts, config$$1),\r\n\t\t    yAxisWidth = _calYAxisData.yAxisWidth;\r\n\t\tconfig$$1.yAxisWidth = yAxisWidth;\r\n\t\tlet offsetLeft=0;\r\n\t\tlet _getXAxisPoints0 = getXAxisPoints(opts.categories, opts, config$$1),\r\n\t\t    xAxisPoints = _getXAxisPoints0.xAxisPoints,\r\n\t\t    startX = _getXAxisPoints0.startX,\r\n\t\t    endX = _getXAxisPoints0.endX,\r\n\t\t    eachSpacing = _getXAxisPoints0.eachSpacing;\r\n\t\tlet totalWidth=eachSpacing*(xAxisPoints.length-1);\r\n\t\tlet screenWidth=endX-startX;\r\n\t\toffsetLeft=screenWidth-totalWidth;\r\n\t\tthis.scrollOption = {\r\n\t\t    currentOffset: offsetLeft,\r\n\t\t    startTouchX: offsetLeft,\r\n\t\t    distance: 0\r\n\t\t};\r\n\t\topts._scrollDistance_= offsetLeft;\r\n\t}\r\n\t\r\n    drawCharts.call(this, opts.type, opts, config$$1, this.context);\r\n};\r\n\r\nCharts.prototype.updateData = function () {\r\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n    this.opts.series = data.series || this.opts.series;\r\n    this.opts.categories = data.categories || this.opts.categories;\r\n\r\n    this.opts.title = assign({}, this.opts.title, data.title || {});\r\n    this.opts.subtitle = assign({}, this.opts.subtitle, data.subtitle || {});\r\n\r\n    drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n};\r\n\r\nCharts.prototype.zoom = function () {\r\n    var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.opts.xAxis.itemCount;\r\n\tif(this.opts.enableScroll!==true){\r\n\t\tconsole.log('请启用滚动条后使用！')\r\n\t\treturn;\r\n\t}\r\n\tthis.opts.animation=false;\r\n    this.opts.xAxis.itemCount = val.itemCount;\r\n    drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n};\r\n\r\nCharts.prototype.stopAnimation = function () {\r\n    this.animationInstance && this.animationInstance.stop();\r\n};\r\n\r\nCharts.prototype.addEventListener = function (type, listener) {\r\n    this.event.addEventListener(type, listener);\r\n};\r\n\r\nCharts.prototype.getCurrentDataIndex = function (e) {\r\n    var touches= e.mp.changedTouches[0];\r\n    if (touches) {\r\n        var _touches$= getTouches(touches, this.opts, e);\r\n        if (this.opts.type === 'pie' || this.opts.type === 'ring') {\r\n            return findPieChartCurrentIndex({ x: _touches$.x, y: _touches$.y }, this.chartData.pieData);\r\n        } else if (this.opts.type === 'radar') {\r\n            return findRadarChartCurrentIndex({ x: _touches$.x, y: _touches$.y }, this.chartData.radarData, this.opts.categories.length);\r\n        } else {\r\n            return findCurrentIndex({ x: _touches$.x, y: _touches$.y }, this.chartData.xAxisPoints, this.opts, this.config, Math.abs(this.scrollOption.currentOffset));\r\n        }\r\n    }\r\n    return -1;\r\n};\r\n\r\nCharts.prototype.showToolTip = function (e) {\r\n    var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\tvar touches= e.mp.changedTouches[0];\r\n\tvar _touches$= getTouches(touches, this.opts, e);\r\n\t\r\n    if (this.opts.type === 'line' || this.opts.type === 'area' || this.opts.type === 'column') {\r\n        var index = this.getCurrentDataIndex(e);\r\n        var currentOffset = this.scrollOption.currentOffset;\r\n\t\t\r\n        var opts = assign({}, this.opts, {\r\n            _scrollDistance_: currentOffset,\r\n            animation: false\r\n        });\r\n        if (index > -1) {\r\n\t\t\t\r\n            var seriesData = getSeriesDataItem(this.opts.series, index);\r\n            if (seriesData.length !== 0) {\r\n                var _getToolTipData = getToolTipData(seriesData, this.chartData.calPoints, index, this.opts.categories, option),\r\n                    textList = _getToolTipData.textList,\r\n                    offset = _getToolTipData.offset;\r\n\t\t\t\toffset.y=_touches$.y;\r\n                opts.tooltip = {\r\n                    textList: textList,\r\n                    offset: offset,\r\n                    option: option,\r\n\t\t\t\t\tindex: index\r\n                };\r\n            }\r\n        }\r\n        drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n    }\r\n\tif (this.opts.type === 'mix') {\r\n\t\t\r\n\t    var index = this.getCurrentDataIndex(e);\r\n\t    var currentOffset = this.scrollOption.currentOffset;\r\n\t\t\r\n\t    var opts = assign({}, this.opts, {\r\n\t        _scrollDistance_: currentOffset,\r\n\t        animation: false\r\n\t    });\r\n\t    if (index > -1) {\r\n\t        var seriesData = getSeriesDataItem(this.opts.series, index);\r\n\t        if (seriesData.length !== 0) {\r\n\t            var _getMixToolTipData = getMixToolTipData(seriesData, this.chartData.calPoints, index, this.opts.categories, option),\r\n\t                textList = _getMixToolTipData.textList,\r\n\t                offset = _getMixToolTipData.offset;\r\n\t\t\t\toffset.y=_touches$.y;\r\n\t            opts.tooltip = {\r\n\t                textList: textList,\r\n\t                offset: offset,\r\n\t                option: option,\r\n\t\t\t\t\tindex: index\r\n\t            };\r\n\t        }\r\n\t    }\r\n\t    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n\t}\r\n\tif (this.opts.type === 'candle') {\r\n\t\t\r\n\t    var index = this.getCurrentDataIndex(e);\r\n\t    var currentOffset = this.scrollOption.currentOffset;\r\n\t\t\r\n\t    var opts = assign({}, this.opts, {\r\n\t        _scrollDistance_: currentOffset,\r\n\t        animation: false\r\n\t    });\r\n\t    if (index > -1) {\r\n\t        var seriesData = getSeriesDataItem(this.opts.series, index);\r\n\t        if (seriesData.length !== 0) {\r\n\t            var _getToolTipData = getCandleToolTipData(this.opts.series[0].data,seriesData, this.chartData.calPoints, index, this.opts.categories, this.opts.extra.candle, option),\r\n\t                textList = _getToolTipData.textList,\r\n\t                offset = _getToolTipData.offset;\r\n\t\t\t\toffset.y=_touches$.y;\r\n\t            opts.tooltip = {\r\n\t                textList: textList,\r\n\t                offset: offset,\r\n\t                option: option,\r\n\t\t\t\t\tindex: index\r\n\t            };\r\n\t        }\r\n\t    }\r\n\t    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n\t}\r\n\tif (this.opts.type === 'pie' || this.opts.type === 'ring') {\r\n\t    var index = this.getCurrentDataIndex(e);\r\n\t    var currentOffset = this.scrollOption.currentOffset;\r\n\t\t\r\n\t    var opts = assign({}, this.opts, {\r\n\t        _scrollDistance_: currentOffset,\r\n\t        animation: false\r\n\t    });\r\n\t    if (index > -1) {\r\n\t\t\t\r\n\t        var seriesData = this.opts.series[index];\r\n\t\t\tvar textList =[{\r\n\t\t\t\ttext: option.format ? option.format(seriesData) : seriesData.name + ': ' + seriesData.data,\r\n\t\t\t\tcolor: seriesData.color\r\n\t\t\t}];\r\n\t\t\tvar offset = {x:_touches$.x,y:_touches$.y};\r\n\t\t\t\r\n\t\t\topts.tooltip = {\r\n\t\t\t\ttextList: textList,\r\n\t\t\t\toffset: offset,\r\n\t\t\t\toption: option,\r\n\t\t\t\tindex: index\r\n\t\t\t};\r\n\t    }\r\n\t    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n\t}\r\n};\r\n\r\nCharts.prototype.scrollStart = function (e) {\r\n\tvar touches= e.mp.changedTouches[0];\r\n\tvar _touches$= getTouches(touches, this.opts, e);\r\n    if (touches && this.opts.enableScroll === true) {\r\n\t\tif(touches.x){\r\n\t\t\tthis.scrollOption.startTouchX = _touches$.x;\r\n\t\t}else{\r\n\t\t\tthis.scrollOption.startTouchX = _touches$.clientX;\r\n\t\t}\r\n    }\r\n};\r\n\r\nCharts.prototype.scroll = function (e) {\r\n    // TODO throtting...\r\n\tvar {\r\n\t  disableTouch, throttleTouch, lastMoveTime,\r\n\t} = this;\r\n\tif (disableTouch || !e.mp.changedTouches[0]) return;\r\n\t\r\n\tif (throttleTouch) {\r\n\t  var currMoveTime = Date.now();\r\n\t  if (currMoveTime - lastMoveTime < 240) return;\r\n\t  this.lastMoveTime = currMoveTime;\r\n\t}\r\n\t\r\n\tvar touches= e.mp.changedTouches[0];\r\n\tvar _touches$= getTouches(touches, this.opts, e);\r\n    if (touches && this.opts.enableScroll === true) {\r\n\t\tvar _distance;\r\n\t\tif(touches.x){\r\n\t\t\t_distance = _touches$.x - this.scrollOption.startTouchX;\r\n\t\t}else{\r\n\t\t\t_distance = _touches$.clientX - this.scrollOption.startTouchX;\r\n\t\t}\r\n        var currentOffset = this.scrollOption.currentOffset;\r\n\r\n        var validDistance = calValidDistance(currentOffset + _distance, this.chartData, this.config, this.opts);\r\n\r\n        this.scrollOption.distance = _distance = validDistance - currentOffset;\r\n        var opts = assign({}, this.opts, {\r\n            _scrollDistance_: currentOffset + _distance,\r\n            animation: false\r\n        });\r\n        drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n    }\r\n};\r\n\r\nCharts.prototype.scrollEnd = function (e) {\r\n    if (this.opts.enableScroll === true) {\r\n        var _scrollOption = this.scrollOption,\r\n            currentOffset = _scrollOption.currentOffset,\r\n            distance = _scrollOption.distance;\r\n\r\n        this.scrollOption.currentOffset = currentOffset + distance;\r\n        this.scrollOption.distance = 0;\r\n    }\r\n};\r\n\r\nmodule.exports = Charts;\r\n","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/reportshow/reportshow.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./reportshow.vue?vue&type=template&id=06b6f80d&\"\nimport script from \"./reportshow.vue?vue&type=script&lang=js&\"\nexport * from \"./reportshow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./reportshow.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"d:\\\\Downloads\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('06b6f80d', component.options)\n    } else {\n      api.reload('06b6f80d', component.options)\n    }\n    module.hot.accept(\"./reportshow.vue?vue&type=template&id=06b6f80d&\", function () {\n      api.rerender('06b6f80d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Documents/HBuilderProjects/shareJQSystem/pages/reportshow/reportshow.vue\"\nexport default component.exports","import mod from \"-!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./reportshow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./reportshow.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./reportshow.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./reportshow.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX.2.0.1.20190614.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./reportshow.vue?vue&type=template&id=06b6f80d&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport uCharts from '@/js_sdk/u-charts/components/u-charts/u-charts.js';\nimport service from '../../service.js';\nimport sharebtn from '../../components/shareBox.vue';\nvar _self;\nvar canvaColumn=null;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\taddress:{\n\t\t\t\taddressurl:\"省市区\",\n\t\t\t\taddressinfo:\"100栋\",\n\t\t\t},\n\t\t\tcWidth:'',\n\t\t\tcHeight:'',\n\t\t\tpixelRatio:1,\n\t\t\tserverData:'',\n\t\t\tserverList:[\n\t\t\t\t\n\t\t\t],\n\t\t\tid:''\n\t\t}\n\t},\n\tcomponents:{\n\t\tsharebtn\n\t},\n\tonLoad(option) {\n\t\t_self = this;\n\n\n\n\n\n\n\n\n\n\n\n\t\tthis.cWidth=uni.upx2px(750);\n\t\tthis.cHeight=uni.upx2px(500);\n\t\tif(option.id){\n\t\t\tthis.id = option.id;\n\t\t\tthis.getServerData();\n\t\t}\n\t\t\n\t},\n\tmethods: {\n\t\tgetServerData(){\t\t\t\t\n\t\t\tuni.request({\n\t\t\t\turl: service.BASEURL+\"/home/share/export_data\",\n\t\t\t\tmethod:\"POST\",\n\t\t\t\tdata:{\n\t\t\t\t\tid:this.id\n\t\t\t\t},\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t_self.address = res.data.data.address;\n\t\t\t\t\t// // console.log(res.data.data)\n\t\t\t\t\t//下面这个根据需要保存后台数据，我是为了模拟更新柱状图，所以存下来了\n\t\t\t\t\t_self.serverData=res.data.data;\n\t\t\t\t\t_self.updateData(res.data.data.list);\n\t\t\t\t\t\n\t\t\t\t\t// let Column={categories:[],series:[]};\n\t\t\t\t\t// 这里我后台返回的是数组，所以用等于，如果您后台返回的是单条数据，需要push进去\n\t\t\t\t\t// Column.categories=res.data.data.Column.categories;\n\t\t\t\t\t// 这里的series数据是后台做好的，如果您的数据没有和前面我注释掉的格式一样，请自行拼接数据\n\t\t\t\t\t// Column.series=res.data.data.Column.series;\n\t\t\t\t\t// _self.showColumn(\"canvasColumn\",Column);\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tconsole.log(\"网络错误，小程序端请检查合法域名\");\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\tupdateData(list){\n\t\t\tlet ServerList = [];\n\t\t\tif(list){\n\t\t\t\tlist.forEach(item=>{\n\t\t\t\t\tlet nitem = {}\n\t\t\t\t\tnitem.project = item.project\n\t\t\t\t\tlet Column={categories:[],series:[]};\n\t\t\t\t\tif(item.num>0){\n\t\t\t\t\t\t// Column.categories = Column.categories.concat(['甲醛','苯','TVOC','湿度','温度']);\n\t\t\t\t\t\tfor(let i = 0; i<item.num;i++){\n\t\t\t\t\t\t\tColumn.categories.push(`第${i+1}次`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(item.data && item.data.length>0){\n\t\t\t\t\t\tColumn.series.push({\n\t\t\t\t\t\t\tname:'甲醛',\n\t\t\t\t\t\t\tdata:item.data.map(m=>m.cho2)\n\t\t\t\t\t\t})\n\t\t\t\t\t\tColumn.series.push({\n\t\t\t\t\t\t\tname:'苯',\n\t\t\t\t\t\t\tdata:item.data.map(m=>m.c6h6)\n\t\t\t\t\t\t})\n\t\t\t\t\t\tColumn.series.push({\n\t\t\t\t\t\t\tname:'TVOC',\n\t\t\t\t\t\t\tdata:item.data.map(m=>m.tvoc)\n\t\t\t\t\t\t})\n\t\t\t\t\t\t// Column.series.push({\n\t\t\t\t\t\t// \tname:'湿度',\n\t\t\t\t\t\t// \tdata:item.data.map(m=>m.humidity)\n\t\t\t\t\t\t// })\n\t\t\t\t\t\t// Column.series.push({\n\t\t\t\t\t\t// \tname:'温度',\n\t\t\t\t\t\t// \tdata:item.data.map(m=>m.temperature)\n\t\t\t\t\t\t// })\n\t\t\t\t\t}\n\t\t\t\t\tnitem.Column = Column;\n\t\t\t\t\tServerList.push(nitem)\t\t\t\t\t\t\n\t\t\t\t})\n\t\t\t}\n\t\t\tif(ServerList.length>0){\n\t\t\t\tfor (let i = 0; i < ServerList.length; i++) {\n\t\t\t\t\tthis.showColumn(`canvasColumn_${i}`,ServerList[i].Column);\n\t\t\t\t}\n\t\t\t\tthis.serverList = ServerList;\n\t\t\t}\n\t\t},\n\t\tshowColumn(canvasId,chartData){\n\t\t\tcanvaColumn =new uCharts({\n\t\t\t\t$this:_self,\n\t\t\t\tcanvasId: canvasId,\n\t\t\t\ttype: 'column',\n\t\t\t\tlegend:true,\n\t\t\t\tfontSize:11,\n\t\t\t\tbackground:'#FFFFFF',\n\t\t\t\tpixelRatio:_self.pixelRatio,\n\t\t\t\tanimation: true,\n\t\t\t\tcategories: chartData.categories,\n\t\t\t\tseries: chartData.series,\n\t\t\t\txAxis: {\n\t\t\t\t\tdisableGrid:true,\n\t\t\t\t},\n\t\t\t\tyAxis: {\n\t\t\t\t},\n\t\t\t\tdataLabel: true,\n\t\t\t\twidth: _self.cWidth*_self.pixelRatio,\n\t\t\t\theight: _self.cHeight*_self.pixelRatio,\n\t\t\t\textra: {\n\t\t\t\t\tcolumn: {\n\t\t\t\t\t  width: _self.cWidth*_self.pixelRatio*0.45/chartData.categories.length\n\t\t\t\t\t}\n\t\t\t\t  }\n\t\t\t});\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    { staticClass: \"qiun-columns\" },\n    [\n      _c(\"view\", { staticClass: \"header text-lg padding-sm text-bold\" }, [\n        _c(\"view\", { staticClass: \"text-center\" }, [\n          _vm._v(\n            _vm._s(_vm.address.addressurl) + _vm._s(_vm.address.addressinfo)\n          )\n        ]),\n        _c(\"view\", { staticClass: \"text-center\" }, [_vm._v(\"检测报告\")])\n      ]),\n      _vm._l(_vm.serverList, function(item, index) {\n        return _c(\"view\", { key: index, staticClass: \"margin-top\" }, [\n          _c(\n            \"view\",\n            { staticClass: \"qiun-bg-white qiun-title-bar qiun-common-mt\" },\n            [\n              _c(\"view\", { staticClass: \"qiun-title-dot-light\" }, [\n                _vm._v(_vm._s(item.project))\n              ])\n            ]\n          ),\n          _c(\"view\", { staticClass: \"qiun-charts\" }, [\n            _c(\"canvas\", {\n              staticClass: \"charts\",\n              attrs: {\n                \"canvas-id\": \"canvasColumn_\" + index,\n                id: \"canvasColumn_\" + index\n              }\n            })\n          ])\n        ])\n      }),\n      _c(\"sharebtn\", { attrs: { mpcomid: \"731ddc20-0\" } })\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}